(()=>{var a={};a.id=974,a.ids=[974],a.modules={205:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(23339).A)("Fuel",[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"7cu91f"}]])},261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},8329:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>bB});var d=c(21124),e=c(3991),f=c.n(e),g=c(14322),h=c(23339);let i=(0,h.A)("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);var j=c(65893),k=c(69957),l=c(78953);let m=(0,h.A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),n=(0,h.A)("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);var o=c(68324),p=c(30087),q=c(15303),r=c(71213),s=c(30733),t=c(69596),u=c(75219),v=c(205),w=c(58620),x=c(58610),y=c(62186),z=c(10560);let A=()=>{let{data:a}=(0,z.y)("home"),b=(0,z.TP)(a,z.Sz),c=b.service_highlights?.services||[];return(0,d.jsx)("section",{className:"py-24 md:py-28 lg:py-32 bg-muted/30 relative",children:(0,d.jsxs)("div",{className:"container mx-auto px-4 relative",children:[(0,d.jsxs)("div",{className:"text-center mb-16 animate-fade-in",children:[(0,d.jsx)("h2",{className:"text-4xl md:text-5xl font-display font-bold mb-4 text-foreground",children:b.service_highlights?.title||"Why Choose Drive917"}),(0,d.jsx)("div",{className:"flex items-center justify-center mt-6",children:(0,d.jsx)("div",{className:"h-[1px] w-24 bg-gradient-to-r from-transparent via-primary to-transparent"})}),(0,d.jsx)("p",{className:"text-base md:text-lg text-foreground/70 max-w-3xl mx-auto font-light mt-6",children:b.service_highlights?.subtitle||"Delivering excellence through premium vehicle rentals and exceptional service."})]}),(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8 max-w-7xl mx-auto",children:c.map((a,b)=>{var c;let e=(c=a.icon,({ThumbsUp:i,Users:j.A,MapPin:k.A,Baby:l.A,Settings:m,Headphones:n,Shield:o.A,Car:p.A,Clock:q.A,Phone:r.A,Star:s.A,Award:t.A,CheckCircle:u.A,Fuel:v.A,Wifi:w.A,Crown:x.A})[c]||i);return(0,d.jsx)(y.Zp,{className:"relative overflow-hidden p-8 lg:p-10 bg-card border border-border hover:border-primary/30 transition-all duration-500 hover:-translate-y-2 shadow-[0_4px_20px_rgba(0,0,0,0.08)] dark:shadow-[0_4px_20px_rgba(0,0,0,0.3)] hover:shadow-glow animate-fade-in-up group rounded-2xl",style:{animationDelay:`${.1*b}s`},children:(0,d.jsxs)("div",{className:"relative space-y-5 flex flex-col",children:[(0,d.jsx)("div",{className:"relative w-16 h-16 rounded-full bg-primary flex items-center justify-center shadow-glow group-hover:shadow-glow transition-all duration-500",children:(0,d.jsx)(e,{className:"w-8 h-8 text-primary-foreground",strokeWidth:2,"aria-hidden":"true"})}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsx)("h3",{className:"text-2xl font-display font-bold text-foreground leading-tight",children:a.title}),(0,d.jsx)("p",{className:"text-foreground/70 leading-relaxed text-[15px]",children:a.description})]})]})},b)})})]})})};var B=c(38301),C=c(48180);let D=()=>{let[a,b]=(0,B.useState)([]),[c,e]=(0,B.useState)(0),{data:f}=(0,z.y)("home"),g=(0,z.TP)(f,z.Sz);(0,B.useEffect)(()=>{h()},[]),(0,B.useEffect)(()=>{if(0===a.length)return;let b=Math.ceil(a.length/3),c=setInterval(()=>{e(a=>(a+1)%b)},5e3);return()=>clearInterval(c)},[a.length]);let h=async()=>{let{data:a}=await C.N.from("testimonials").select("*").order("created_at",{ascending:!1});a&&(console.log("Loaded testimonials:",a.length,a),b(a))};if(0===a.length)return null;let i=Math.ceil(a.length/3),j=3*c,k=a.slice(j,j+3);return console.log("Active Index:",c),console.log("Total testimonials:",a.length),console.log("Total pages:",i),console.log("Visible testimonials:",k.map(a=>a.author)),(0,d.jsx)("section",{className:"py-24 md:py-28 lg:py-32 bg-muted/20",children:(0,d.jsxs)("div",{className:"container mx-auto px-4",children:[(0,d.jsxs)("div",{className:"text-center mb-16 animate-fade-in",children:[(0,d.jsx)("h2",{className:"text-4xl md:text-5xl font-display font-bold mb-4 text-foreground",children:g.testimonials_header?.title||"Why Dallas Drivers Choose Drive917"}),(0,d.jsx)("div",{className:"flex items-center justify-center mt-6",children:(0,d.jsx)("div",{className:"h-[1px] w-24 bg-gradient-to-r from-transparent via-primary to-transparent"})})]}),(0,d.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-7xl mx-auto",children:k.map((a,b)=>(0,d.jsxs)(y.Zp,{className:"p-8 bg-card shadow-[0_4px_20px_rgba(0,0,0,0.08)] dark:shadow-[0_4px_20px_rgba(0,0,0,0.3)] hover:shadow-[0_8px_30px_rgba(0,0,0,0.12)] dark:hover:shadow-[0_8px_30px_rgba(0,0,0,0.4)] transition-all duration-300 hover:-translate-y-1 flex flex-col animate-fade-in border border-border",style:{animationDelay:`${.1*b}s`},children:[(0,d.jsx)("div",{className:"flex gap-1 mb-6",children:[...Array(a.stars||5)].map((a,b)=>(0,d.jsx)(s.A,{className:"w-5 h-5 fill-primary text-primary","aria-hidden":"true"},b))}),(0,d.jsxs)("p",{className:"text-foreground/80 mb-6 italic leading-relaxed min-h-[7rem] text-base break-words overflow-wrap-anywhere hyphens-auto",children:['"',a.review,'"']}),(0,d.jsxs)("div",{className:"border-t border-border pt-4 mt-auto",children:[(0,d.jsx)("p",{className:"font-bold text-foreground font-display text-lg",children:a.author}),a.company_name&&(0,d.jsx)("p",{className:"text-sm text-muted-foreground uppercase tracking-wider mt-1 font-light",children:a.company_name})]})]},a.id))},c),(0,d.jsx)("div",{className:"flex justify-center gap-3 mt-12",children:[...Array(i)].map((a,b)=>(0,d.jsx)("button",{onClick:()=>e(b),className:`h-2 rounded-full transition-all duration-300 ${b===c?"bg-primary w-8":"bg-muted-foreground/30 w-2 hover:bg-muted-foreground/50"}`,"aria-label":`View page ${b+1}`},b))})]})})};var E=c(3412),F=c(62542),G=c(35284),H=c(74144);let I=()=>{let{settings:a}=(0,H.y)(),b=a.phone.replace(/[^\d+]/g,"");return(0,d.jsx)("div",{className:"lg:hidden fixed bottom-4 right-4 z-40",children:(0,d.jsx)("a",{href:`tel:${b}`,"aria-label":"Call us",children:(0,d.jsx)(G.$,{size:"lg",className:"gradient-accent shadow-glow rounded-full w-14 h-14 p-0",children:(0,d.jsx)(r.A,{className:"w-6 h-6"})})})})},J=(0,h.A)("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),K=()=>{let[a,b]=(0,B.useState)(!1);return(0,B.useEffect)(()=>{let a=()=>{window.pageYOffset>300?b(!0):b(!1)};return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)},[]),(0,d.jsx)(d.Fragment,{children:a&&(0,d.jsx)(G.$,{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},size:"lg",className:"fixed bottom-20 right-4 lg:bottom-4 z-50 rounded-full w-14 h-14 p-0 shadow-metal hover-lift","aria-label":"Scroll to top",children:(0,d.jsx)(J,{className:"w-6 h-6"})})})};var L=c(15982);let M=()=>{let{data:a}=(0,z.y)("home"),b=(0,z.TP)(a,z.Sz),{settings:c}=(0,H.y)(),e=c.phone.replace(/[^\d+]/g,"");return(0,d.jsx)("section",{className:"py-16 bg-background",children:(0,d.jsx)("div",{className:"container mx-auto px-4",children:(0,d.jsx)(y.Zp,{className:"max-w-4xl mx-auto shadow-lg border-border/50 bg-card",children:(0,d.jsx)(y.Wu,{className:"p-8 md:p-12",children:(0,d.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between gap-8",children:[(0,d.jsxs)("div",{className:"flex-1 text-center md:text-left",children:[(0,d.jsx)("h2",{className:"text-3xl md:text-4xl font-display font-bold text-foreground mb-3",children:b.contact_card?.title||"Have Questions About Your Rental?"}),(0,d.jsx)("p",{className:"text-lg text-muted-foreground",children:b.contact_card?.description||"We're here to help 7 days a week. Reach out to our Dallas team for quick answers and booking support."})]}),(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 shrink-0",children:[(0,d.jsx)("a",{href:`tel:${e}`,children:(0,d.jsxs)(G.$,{size:"lg",className:"bg-primary hover:bg-primary/90 text-primary-foreground font-semibold px-8 py-6 shadow-md hover:shadow-lg transition-all",children:[(0,d.jsx)(r.A,{className:"w-5 h-5 mr-2"}),b.contact_card?.call_button_text||"Call Now"]})}),(0,d.jsx)("a",{href:`mailto:${c.email}`,children:(0,d.jsxs)(G.$,{size:"lg",variant:"outline",className:"border-2 border-foreground text-foreground hover:bg-foreground hover:text-background font-semibold px-8 py-6 transition-all",children:[(0,d.jsx)(L.A,{className:"w-5 h-5 mr-2"}),b.contact_card?.email_button_text||"Email Us"]})})]})]})})})})})};var N=c(93758),O=c(68120),P=c(45608),Q=c(87868),R=c(92808),S=c(2332),T=c(11720),U=c(10350),V=c(96386),W=c(6406),X="Switch",[Y,Z]=(0,S.A)(X),[$,_]=Y(X),aa=B.forwardRef((a,b)=>{let{__scopeSwitch:c,name:e,checked:f,defaultChecked:g,required:h,disabled:i,value:j="on",onCheckedChange:k,form:l,...m}=a,[n,o]=B.useState(null),p=(0,R.s)(b,a=>o(a)),q=B.useRef(!1),r=!n||l||!!n.closest("form"),[s,t]=(0,T.i)({prop:f,defaultProp:g??!1,onChange:k,caller:X});return(0,d.jsxs)($,{scope:c,checked:s,disabled:i,children:[(0,d.jsx)(W.sG.button,{type:"button",role:"switch","aria-checked":s,"aria-required":h,"data-state":ae(s),"data-disabled":i?"":void 0,disabled:i,value:j,...m,ref:p,onClick:(0,Q.m)(a.onClick,a=>{t(a=>!a),r&&(q.current=a.isPropagationStopped(),q.current||a.stopPropagation())})}),r&&(0,d.jsx)(ad,{control:n,bubbles:!q.current,name:e,value:j,checked:s,required:h,disabled:i,form:l,style:{transform:"translateX(-100%)"}})]})});aa.displayName=X;var ab="SwitchThumb",ac=B.forwardRef((a,b)=>{let{__scopeSwitch:c,...e}=a,f=_(ab,c);return(0,d.jsx)(W.sG.span,{"data-state":ae(f.checked),"data-disabled":f.disabled?"":void 0,...e,ref:b})});ac.displayName=ab;var ad=B.forwardRef(({__scopeSwitch:a,control:b,checked:c,bubbles:e=!0,...f},g)=>{let h=B.useRef(null),i=(0,R.s)(h,g),j=(0,U.Z)(c),k=(0,V.X)(b);return B.useEffect(()=>{let a=h.current;if(!a)return;let b=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(j!==c&&b){let d=new Event("click",{bubbles:e});b.call(a,c),a.dispatchEvent(d)}},[j,c,e]),(0,d.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:c,...f,tabIndex:-1,ref:i,style:{...f.style,...k,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function ae(a){return a?"checked":"unchecked"}ad.displayName="SwitchBubbleInput";var af=c(44943);let ag=B.forwardRef(({className:a,...b},c)=>(0,d.jsx)(aa,{className:(0,af.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",a),...b,ref:c,children:(0,d.jsx)(ac,{className:(0,af.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ag.displayName=aa.displayName;var ah=c(27410),ai=c(77837);function aj({value:a="",onChange:b,disabled:c,className:e,id:f}){let[g,h]=B.useState(!1),[i,j]=B.useState("12"),[k,l]=B.useState("00"),[m,n]=B.useState("PM");return B.useEffect(()=>{if(a){let[b,c]=a.split(":"),d=parseInt(b,10);0===d?(j("12"),n("AM")):12===d?(j("12"),n("PM")):d>12?(j((d-12).toString().padStart(2,"0")),n("PM")):(j(b),n("AM")),l(c)}},[a]),(0,d.jsxs)(ai.AM,{open:g,onOpenChange:h,children:[(0,d.jsx)(ai.Wv,{asChild:!0,children:(0,d.jsxs)(G.$,{id:f,variant:"outline",disabled:c,className:(0,af.cn)("w-full justify-start text-left font-normal h-10 hover:!bg-transparent hover:!text-foreground",!a&&"text-muted-foreground",e),children:[(0,d.jsx)(q.A,{className:"mr-2 h-4 w-4"}),a?(()=>{let[b,c]=a.split(":"),d=parseInt(b,10);return`${0===d?12:d>12?d-12:d}:${c} ${d>=12?"PM":"AM"}`})():"Select time"]})}),(0,d.jsx)(ai.hl,{className:"w-auto p-4",align:"start",children:(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)("div",{className:"text-sm font-medium",children:"Select Time"}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(O.J,{htmlFor:"hours",className:"text-xs",children:"Hours"}),(0,d.jsx)(N.p,{id:"hours",type:"number",min:"1",max:"12",value:i,onChange:a=>{let b=parseInt(a.target.value,10);if(isNaN(b))return void j("");b>12&&(b=12),b<1&&(b=1),j(b.toString().padStart(2,"0"))},className:"w-16 text-center"})]}),(0,d.jsx)("div",{className:"pt-6 text-xl font-bold",children:":"}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(O.J,{htmlFor:"minutes",className:"text-xs",children:"Minutes"}),(0,d.jsx)(N.p,{id:"minutes",type:"number",min:"0",max:"59",value:k,onChange:a=>{let b=parseInt(a.target.value,10);if(isNaN(b))return void l("00");b>59&&(b=59),b<0&&(b=0),l(b.toString().padStart(2,"0"))},className:"w-16 text-center"})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(O.J,{className:"text-xs",children:"Period"}),(0,d.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,d.jsx)(G.$,{type:"button",variant:"AM"===m?"default":"outline",size:"sm",onClick:()=>n("AM"),className:(0,af.cn)("w-16 h-8","AM"===m&&"bg-accent text-accent-foreground hover:bg-accent/90"),children:"AM"}),(0,d.jsx)(G.$,{type:"button",variant:"PM"===m?"default":"outline",size:"sm",onClick:()=>n("PM"),className:(0,af.cn)("w-16 h-8","PM"===m&&"bg-accent text-accent-foreground hover:bg-accent/90"),children:"PM"})]})]})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(O.J,{className:"text-xs",children:"Quick Select"}),(0,d.jsx)("div",{className:"grid grid-cols-3 gap-2",children:[{label:"9:00 AM",h:"09",m:"00",p:"AM"},{label:"12:00 PM",h:"12",m:"00",p:"PM"},{label:"3:00 PM",h:"03",m:"00",p:"PM"},{label:"6:00 PM",h:"06",m:"00",p:"PM"},{label:"9:00 PM",h:"09",m:"00",p:"PM"},{label:"Now",h:"",m:"",p:""}].map(a=>{var b,c,e;let f=(b=a.h,c=a.m,e=a.p,(""!==b||""!==c||""!==e)&&i===b&&k===c&&m===e);return(0,d.jsx)(G.$,{type:"button",variant:f?"default":"outline",size:"sm",onClick:()=>{if("Now"===a.label){let a=new Date,b=a.getHours(),c=a.getMinutes();j((0===b?12:b>12?b-12:b).toString().padStart(2,"0")),l(c.toString().padStart(2,"0")),n(b>=12?"PM":"AM")}else j(a.h),l(a.m),n(a.p)},className:(0,af.cn)("text-xs",f&&"bg-accent text-accent-foreground hover:bg-accent/90"),children:a.label},a.label)})})]}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)(G.$,{type:"button",variant:"outline",size:"sm",onClick:()=>h(!1),className:"flex-1",children:"Cancel"}),(0,d.jsx)(G.$,{type:"button",size:"sm",onClick:()=>{let a=parseInt(i,10);"AM"===m?12===a&&(a=0):12!==a&&(a+=12);let c=`${a.toString().padStart(2,"0")}:${k}`;b?.(c),h(!1)},className:"flex-1 bg-accent text-accent-foreground hover:bg-accent/90",children:"Apply"})]})]})})]})}var ak=c(854),al=c(10498),am=c(825),an=["PageUp","PageDown"],ao=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ap={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},aq="Slider",[ar,as,at]=(0,am.N)(aq),[au,av]=(0,S.A)(aq,[at]),[aw,ax]=au(aq),ay=B.forwardRef((a,b)=>{let{name:c,min:e=0,max:f=100,step:g=1,orientation:h="horizontal",disabled:i=!1,minStepsBetweenThumbs:j=0,defaultValue:k=[e],value:l,onValueChange:m=()=>{},onValueCommit:n=()=>{},inverted:o=!1,form:p,...q}=a,r=B.useRef(new Set),s=B.useRef(0),t="horizontal"===h,[u=[],v]=(0,T.i)({prop:l,defaultProp:k,onChange:a=>{let b=[...r.current];b[s.current]?.focus(),m(a)}}),w=B.useRef(u);function x(a,b,{commit:c}={commit:!1}){let d=(String(g).split(".")[1]||"").length,h=function(a,b){let c=Math.pow(10,b);return Math.round(a*c)/c}(Math.round((a-e)/g)*g+e,d),i=(0,ak.q)(h,[e,f]);v((a=[])=>{let d=function(a=[],b,c){let d=[...a];return d[c]=b,d.sort((a,b)=>a-b)}(a,i,b);if(!function(a,b){if(b>0)return Math.min(...a.slice(0,-1).map((b,c)=>a[c+1]-b))>=b;return!0}(d,j*g))return a;{s.current=d.indexOf(i);let b=String(d)!==String(a);return b&&c&&n(d),b?d:a}})}return(0,d.jsx)(aw,{scope:a.__scopeSlider,name:c,disabled:i,min:e,max:f,valueIndexToChangeRef:s,thumbs:r.current,values:u,orientation:h,form:p,children:(0,d.jsx)(ar.Provider,{scope:a.__scopeSlider,children:(0,d.jsx)(ar.Slot,{scope:a.__scopeSlider,children:(0,d.jsx)(t?aB:aC,{"aria-disabled":i,"data-disabled":i?"":void 0,...q,ref:b,onPointerDown:(0,Q.m)(q.onPointerDown,()=>{i||(w.current=u)}),min:e,max:f,inverted:o,onSlideStart:i?void 0:function(a){let b=function(a,b){if(1===a.length)return 0;let c=a.map(a=>Math.abs(a-b)),d=Math.min(...c);return c.indexOf(d)}(u,a);x(a,b)},onSlideMove:i?void 0:function(a){x(a,s.current)},onSlideEnd:i?void 0:function(){let a=w.current[s.current];u[s.current]!==a&&n(u)},onHomeKeyDown:()=>!i&&x(e,0,{commit:!0}),onEndKeyDown:()=>!i&&x(f,u.length-1,{commit:!0}),onStepKeyDown:({event:a,direction:b})=>{if(!i){let c=an.includes(a.key)||a.shiftKey&&ao.includes(a.key),d=s.current;x(u[d]+g*(c?10:1)*b,d,{commit:!0})}}})})})})});ay.displayName=aq;var[az,aA]=au(aq,{startEdge:"left",endEdge:"right",size:"width",direction:1}),aB=B.forwardRef((a,b)=>{let{min:c,max:e,dir:f,inverted:g,onSlideStart:h,onSlideMove:i,onSlideEnd:j,onStepKeyDown:k,...l}=a,[m,n]=B.useState(null),o=(0,R.s)(b,a=>n(a)),p=B.useRef(void 0),q=(0,al.jH)(f),r="ltr"===q,s=r&&!g||!r&&g;function t(a){let b=p.current||m.getBoundingClientRect(),d=aN([0,b.width],s?[c,e]:[e,c]);return p.current=b,d(a-b.left)}return(0,d.jsx)(az,{scope:a.__scopeSlider,startEdge:s?"left":"right",endEdge:s?"right":"left",direction:s?1:-1,size:"width",children:(0,d.jsx)(aD,{dir:q,"data-orientation":"horizontal",...l,ref:o,style:{...l.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:a=>{let b=t(a.clientX);h?.(b)},onSlideMove:a=>{let b=t(a.clientX);i?.(b)},onSlideEnd:()=>{p.current=void 0,j?.()},onStepKeyDown:a=>{let b=ap[s?"from-left":"from-right"].includes(a.key);k?.({event:a,direction:b?-1:1})}})})}),aC=B.forwardRef((a,b)=>{let{min:c,max:e,inverted:f,onSlideStart:g,onSlideMove:h,onSlideEnd:i,onStepKeyDown:j,...k}=a,l=B.useRef(null),m=(0,R.s)(b,l),n=B.useRef(void 0),o=!f;function p(a){let b=n.current||l.current.getBoundingClientRect(),d=aN([0,b.height],o?[e,c]:[c,e]);return n.current=b,d(a-b.top)}return(0,d.jsx)(az,{scope:a.__scopeSlider,startEdge:o?"bottom":"top",endEdge:o?"top":"bottom",size:"height",direction:o?1:-1,children:(0,d.jsx)(aD,{"data-orientation":"vertical",...k,ref:m,style:{...k.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:a=>{let b=p(a.clientY);g?.(b)},onSlideMove:a=>{let b=p(a.clientY);h?.(b)},onSlideEnd:()=>{n.current=void 0,i?.()},onStepKeyDown:a=>{let b=ap[o?"from-bottom":"from-top"].includes(a.key);j?.({event:a,direction:b?-1:1})}})})}),aD=B.forwardRef((a,b)=>{let{__scopeSlider:c,onSlideStart:e,onSlideMove:f,onSlideEnd:g,onHomeKeyDown:h,onEndKeyDown:i,onStepKeyDown:j,...k}=a,l=ax(aq,c);return(0,d.jsx)(W.sG.span,{...k,ref:b,onKeyDown:(0,Q.m)(a.onKeyDown,a=>{"Home"===a.key?(h(a),a.preventDefault()):"End"===a.key?(i(a),a.preventDefault()):an.concat(ao).includes(a.key)&&(j(a),a.preventDefault())}),onPointerDown:(0,Q.m)(a.onPointerDown,a=>{let b=a.target;b.setPointerCapture(a.pointerId),a.preventDefault(),l.thumbs.has(b)?b.focus():e(a)}),onPointerMove:(0,Q.m)(a.onPointerMove,a=>{a.target.hasPointerCapture(a.pointerId)&&f(a)}),onPointerUp:(0,Q.m)(a.onPointerUp,a=>{let b=a.target;b.hasPointerCapture(a.pointerId)&&(b.releasePointerCapture(a.pointerId),g(a))})})}),aE="SliderTrack",aF=B.forwardRef((a,b)=>{let{__scopeSlider:c,...e}=a,f=ax(aE,c);return(0,d.jsx)(W.sG.span,{"data-disabled":f.disabled?"":void 0,"data-orientation":f.orientation,...e,ref:b})});aF.displayName=aE;var aG="SliderRange",aH=B.forwardRef((a,b)=>{let{__scopeSlider:c,...e}=a,f=ax(aG,c),g=aA(aG,c),h=B.useRef(null),i=(0,R.s)(b,h),j=f.values.length,k=f.values.map(a=>aM(a,f.min,f.max)),l=j>1?Math.min(...k):0,m=100-Math.max(...k);return(0,d.jsx)(W.sG.span,{"data-orientation":f.orientation,"data-disabled":f.disabled?"":void 0,...e,ref:i,style:{...a.style,[g.startEdge]:l+"%",[g.endEdge]:m+"%"}})});aH.displayName=aG;var aI="SliderThumb",aJ=B.forwardRef((a,b)=>{let c=as(a.__scopeSlider),[e,f]=B.useState(null),g=(0,R.s)(b,a=>f(a)),h=B.useMemo(()=>e?c().findIndex(a=>a.ref.current===e):-1,[c,e]);return(0,d.jsx)(aK,{...a,ref:g,index:h})}),aK=B.forwardRef((a,b)=>{let{__scopeSlider:c,index:e,name:f,...g}=a,h=ax(aI,c),i=aA(aI,c),[j,k]=B.useState(null),l=(0,R.s)(b,a=>k(a)),m=!j||h.form||!!j.closest("form"),n=(0,V.X)(j),o=h.values[e],p=void 0===o?0:aM(o,h.min,h.max),q=function(a,b){return b>2?`Value ${a+1} of ${b}`:2===b?["Minimum","Maximum"][a]:void 0}(e,h.values.length),r=n?.[i.size],s=r?function(a,b,c){let d=a/2,e=aN([0,50],[0,d]);return(d-e(b)*c)*c}(r,p,i.direction):0;return B.useEffect(()=>{if(j)return h.thumbs.add(j),()=>{h.thumbs.delete(j)}},[j,h.thumbs]),(0,d.jsxs)("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[i.startEdge]:`calc(${p}% + ${s}px)`},children:[(0,d.jsx)(ar.ItemSlot,{scope:a.__scopeSlider,children:(0,d.jsx)(W.sG.span,{role:"slider","aria-label":a["aria-label"]||q,"aria-valuemin":h.min,"aria-valuenow":o,"aria-valuemax":h.max,"aria-orientation":h.orientation,"data-orientation":h.orientation,"data-disabled":h.disabled?"":void 0,tabIndex:h.disabled?void 0:0,...g,ref:l,style:void 0===o?{display:"none"}:a.style,onFocus:(0,Q.m)(a.onFocus,()=>{h.valueIndexToChangeRef.current=e})})}),m&&(0,d.jsx)(aL,{name:f??(h.name?h.name+(h.values.length>1?"[]":""):void 0),form:h.form,value:o},e)]})});aJ.displayName=aI;var aL=B.forwardRef(({__scopeSlider:a,value:b,...c},e)=>{let f=B.useRef(null),g=(0,R.s)(f,e),h=(0,U.Z)(b);return B.useEffect(()=>{let a=f.current;if(!a)return;let c=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set;if(h!==b&&c){let d=new Event("input",{bubbles:!0});c.call(a,b),a.dispatchEvent(d)}},[h,b]),(0,d.jsx)(W.sG.input,{style:{display:"none"},...c,ref:g,defaultValue:b})});function aM(a,b,c){return(0,ak.q)(100/(c-b)*(a-b),[0,100])}function aN(a,b){return c=>{if(a[0]===a[1]||b[0]===b[1])return b[0];let d=(b[1]-b[0])/(a[1]-a[0]);return b[0]+d*(c-a[0])}}aL.displayName="RadioBubbleInput";let aO=B.forwardRef(({className:a,...b},c)=>(0,d.jsxs)(ay,{ref:c,className:(0,af.cn)("relative flex w-full touch-none select-none items-center",a),...b,children:[(0,d.jsx)(aF,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,d.jsx)(aH,{className:"absolute h-full bg-primary"})}),(0,d.jsx)(aJ,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));aO.displayName=ay.displayName;var aP=c(99187),aQ=c(42830);(0,h.A)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),(0,h.A)("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]),(0,h.A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);var aR=c(71613),aS=c(72567),aT=c(59405),aU=c(8294);let aV=(0,h.A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),aW=(0,h.A)("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]),aX=(0,h.A)("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),aY=(0,h.A)("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);var aZ=c(47089),a$=c(18310),a_=c(96274);let a0=(0,h.A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var a1=c(50526),a2=c(29921),a3=c(49681),a4=c(66391),a5=c(40068),a6=c(68254);let a7=({open:a,onOpenChange:b,customerName:c="",customerEmail:e="",customerPhone:f="",bookingDetails:g="",fullBookingData:h,onSubmit:i})=>{let[j,k]=(0,B.useState)(!1),[l,m]=(0,B.useState)({}),[n,p]=(0,B.useState)({name:"",email:"",phone:"",requirements:"",threatLevel:""});(0,B.useEffect)(()=>{a&&(p({name:c,email:e,phone:f,requirements:"",threatLevel:""}),m({}))},[a]);let q=(a,b)=>{let c="";if("name"===a){let a=b.trim();a?a.length<2?c="Name must be at least 2 characters":/^[a-zA-Z\s\-']+$/.test(a)?/[a-zA-Z]{2,}/.test(a)?a.replace(/[\s\-']/g,"").length<2&&(c="Name must have actual alphabetic content"):c="Name must contain at least 2 alphabetic characters":c="Name must contain only letters, spaces, hyphens, and apostrophes":c="Please enter your full name"}else if("email"===a)b.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(b)||(c="Please enter a valid email address"):c="Please enter your email address";else if("phone"===a){let a=b.trim();if(a){let b=a.replace(/[\s\-()]/g,""),d=(b.match(/\d/g)||[]).length;d<7||d>15?c="Please enter a valid phone number (7-15 digits)":b.startsWith("+")&&!/^\+\d+$/.test(b)?c="Invalid phone number format":b.startsWith("+")||/^\d+$/.test(b.replace(/[\s\-()]/g,""))||(c="Phone number should contain only digits")}else c="Please enter your phone number"}else"threatLevel"!==a||b&&""!==b.trim()||(c="Please select a threat assessment level");m(b=>{if(c)return{...b,[a]:c};{let c={...b};return delete c[a],c}})},r=async()=>{let a={},d=n.name.trim();d?d.length<2?a.name="Name must be at least 2 characters":/^[a-zA-Z\s\-']+$/.test(d)?/[a-zA-Z]{2,}/.test(d)?d.replace(/[\s\-']/g,"").length<2&&(a.name="Name must have actual alphabetic content"):a.name="Name must contain at least 2 alphabetic characters":a.name="Name must contain only letters, spaces, hyphens, and apostrophes":a.name="Please enter your full name",n.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)||(a.email="Please enter a valid email address"):a.email="Please enter your email address";let g=n.phone.trim();if(g){let b=g.replace(/[\s\-()]/g,""),c=(b.match(/\d/g)||[]).length;c<7||c>15?a.phone="Please enter a valid phone number (7-15 digits)":b.startsWith("+")&&!/^\+\d+$/.test(b)?a.phone="Invalid phone number format":b.startsWith("+")||/^\d+$/.test(b.replace(/[\s\-()]/g,""))||(a.phone="Phone number should contain only digits")}else a.phone="Please enter your phone number";if(n.threatLevel&&""!==n.threatLevel.trim()||(a.threatLevel="Please select a threat assessment level"),Object.keys(a).length>0)return void m(a);m({}),k(!0);try{let a={interested:!0,customer_name:n.name,customer_email:n.email,customer_phone:n.phone,threat_level:n.threatLevel||"Not Sure",requirements:n.requirements,submitted_at:new Date().toISOString()},d="ilyasghulam32@gmail.com",g={adminEmail:d,customerName:n.name,customerEmail:n.email,customerPhone:n.phone,enquiryDetails:{serviceType:"Combined with Chauffeur Service",date:h?.pickupDate||new Date().toLocaleDateString(),startTime:h?.pickupTime||"TBD",durationHours:"TBD",primaryLocation:h?.pickupLocation||"N/A",secondaryLocation:h?.dropoffLocation||"",agentsRequired:"TBD",riskLevel:n.threatLevel||"Not Sure",notes:`
COMBINED WITH CHAUFFEUR BOOKING:
Vehicle: ${h?.vehicleName||"N/A"}
Passengers: ${h?.passengers||"N/A"}

SPECIFIC REQUIREMENTS:
${n.requirements||"None specified"}
          `.trim()},supportEmail:d};await C.N.functions.invoke("send-cp-enquiry",{body:g}),i&&i(a),aQ.oR.success("Close protection interest recorded! Our team will contact you shortly."),b(!1),p({name:c,email:e,phone:f,requirements:"",threatLevel:""})}catch(a){aQ.oR.error("Failed to submit enquiry. Please try again."),console.error("CP Enquiry error:",a)}finally{k(!1)}};return(0,d.jsx)(a5.lG,{open:a,onOpenChange:b,children:(0,d.jsxs)(a5.Cf,{className:"sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:[(0,d.jsxs)(a5.c7,{children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(o.A,{className:"w-6 h-6 text-primary"}),(0,d.jsx)(a5.L3,{className:"text-2xl",children:"Close Protection Services"})]}),(0,d.jsx)(a5.rr,{className:"text-base pt-2",children:"Add discreet security for your journey. Our trained professionals provide executive protection tailored to your needs."})]}),(0,d.jsxs)("form",{name:"closeProtectionForm",onSubmit:a=>{a.preventDefault(),r()},children:[(0,d.jsxs)("div",{className:"space-y-4 py-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(O.J,{htmlFor:"cp-name",children:"Name *"}),(0,d.jsx)(N.p,{id:"cp-name",name:"cp-modal-name",autoComplete:"off",value:n.name,onChange:a=>{let b=a.target.value.replace(/[^a-zA-Z\s\-']/g,"");p({...n,name:b}),q("name",b)},onBlur:()=>q("name",n.name),placeholder:"Your name",className:l.name?"border-destructive":""}),l.name&&(0,d.jsx)("p",{className:"text-sm text-destructive",children:l.name})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(O.J,{htmlFor:"cp-email",children:"Email *"}),(0,d.jsx)(N.p,{id:"cp-email",name:"cp-modal-email",type:"email",autoComplete:"off",value:n.email,onChange:a=>{let b=a.target.value;p({...n,email:b}),q("email",b)},onBlur:()=>q("email",n.email),placeholder:"your@email.com",className:l.email?"border-destructive":""}),l.email&&(0,d.jsx)("p",{className:"text-sm text-destructive",children:l.email})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(O.J,{htmlFor:"cp-phone",children:"Phone *"}),(0,d.jsx)(N.p,{id:"cp-phone",name:"cp-modal-phone",type:"tel",autoComplete:"off",value:n.phone,onChange:a=>{let b=a.target.value.replace(/[^\d\s+\-()]/g,"");p({...n,phone:b}),q("phone",b)},onBlur:()=>q("phone",n.phone),placeholder:"Enter phone number",className:l.phone?"border-destructive":""}),l.phone&&(0,d.jsx)("p",{className:"text-sm text-destructive",children:l.phone})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(O.J,{htmlFor:"cp-threat",children:"Threat Assessment *"}),(0,d.jsxs)(P.l6,{value:n.threatLevel,onValueChange:a=>{p({...n,threatLevel:a}),q("threatLevel",a)},children:[(0,d.jsx)(P.bq,{id:"cp-threat",className:l.threatLevel?"border-destructive":"",children:(0,d.jsx)(P.yv,{placeholder:"Select threat level"})}),(0,d.jsxs)(P.gC,{children:[(0,d.jsx)(P.eb,{value:"Low",children:"Low - General safety preference"}),(0,d.jsx)(P.eb,{value:"Medium",children:"Medium - Some specific concerns"}),(0,d.jsx)(P.eb,{value:"High",children:"High - Known security risks"}),(0,d.jsx)(P.eb,{value:"Not Sure",children:"Not Sure - Need assessment"})]})]}),l.threatLevel&&(0,d.jsx)("p",{className:"text-sm text-destructive",children:l.threatLevel})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(O.J,{htmlFor:"cp-requirements",children:"Specific Requirements"}),(0,d.jsx)(a6.T,{id:"cp-requirements",value:n.requirements,onChange:a=>{p({...n,requirements:a.target.value}),l.requirements&&m({...l,requirements:""})},placeholder:"Any specific security concerns or requirements...",rows:3,className:l.requirements?"border-destructive":""}),l.requirements&&(0,d.jsx)("p",{className:"text-sm text-destructive",children:l.requirements})]})]}),(0,d.jsxs)("div",{className:"flex gap-3",children:[(0,d.jsx)(G.$,{variant:"outline",onClick:()=>b(!1),className:"flex-1",disabled:j,children:"Cancel"}),(0,d.jsx)(G.$,{type:"submit",className:"flex-1 gradient-accent",disabled:j,children:j?"Submitting...":"Submit Enquiry"})]})]})]})})};var a8=c(53520),a9=c(42378),ba=c(39043),bb=c(10578),bc=c(14263);let bd=(0,h.A)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),be=(0,h.A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);var bf=c(49269);let bg=(0,h.A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var bh=c(45992);let bi=a=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(a),bj=({invoice:a,customer:b,vehicle:c,rental:e,protectionPlan:f})=>{let g=c.make&&c.model?`${c.make} ${c.model}`:c.reg,h=f?.rentalFee??a.subtotal;return(0,d.jsxs)("div",{className:"p-8 bg-white text-black",children:[(0,d.jsxs)("div",{className:"border-b border-gray-300 pb-6 mb-6",children:[(0,d.jsx)("h1",{className:"text-3xl font-bold",style:{color:"#06b6d4"},children:"DRIVE 917"}),(0,d.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"Luxury Vehicle Rental Services"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"font-semibold mb-2",children:"Bill To:"}),(0,d.jsxs)("div",{className:"text-sm space-y-1",children:[(0,d.jsx)("p",{className:"font-medium",children:b.name}),b.email&&(0,d.jsx)("p",{children:b.email}),b.phone&&(0,d.jsx)("p",{children:b.phone})]})]}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsx)("h3",{className:"font-semibold mb-2",children:"Invoice Details:"}),(0,d.jsxs)("div",{className:"text-sm space-y-1",children:[(0,d.jsxs)("p",{children:[(0,d.jsx)("span",{className:"text-gray-600",children:"Invoice #:"})," ",(0,d.jsx)("strong",{children:a.invoice_number})]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("span",{className:"text-gray-600",children:"Date:"})," ",(0,a1.GP)(new Date(a.invoice_date),"PPP")]}),a.due_date&&(0,d.jsxs)("p",{children:[(0,d.jsx)("span",{className:"text-gray-600",children:"Due Date:"})," ",(0,a1.GP)(new Date(a.due_date),"PPP")]})]})]})]}),(0,d.jsxs)("div",{className:"border border-gray-300 rounded-lg p-4 bg-gray-50 mb-6",children:[(0,d.jsx)("h3",{className:"font-semibold mb-3",children:"Rental Information"}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-gray-600",children:"Vehicle:"}),(0,d.jsx)("p",{className:"font-medium",children:g}),(0,d.jsxs)("p",{className:"text-gray-500 text-xs",children:["Reg: ",c.reg]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-gray-600",children:"Rental Period:"}),(0,d.jsxs)("p",{className:"font-medium",children:[(0,a1.GP)(new Date(e.start_date),"PP")," - ",(0,a1.GP)(new Date(e.end_date),"PP")]})]})]})]}),(0,d.jsx)("div",{className:"border border-gray-300 rounded-lg overflow-hidden mb-6",children:(0,d.jsxs)("table",{className:"w-full border-collapse",children:[(0,d.jsx)("thead",{className:"bg-gray-100",children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{className:"text-left p-3 text-sm font-semibold border-b border-gray-300",children:"Description"}),(0,d.jsx)("th",{className:"text-right p-3 text-sm font-semibold border-b border-gray-300",children:"Amount"})]})}),(0,d.jsxs)("tbody",{children:[(0,d.jsxs)("tr",{className:"border-b border-gray-300",children:[(0,d.jsx)("td",{className:"p-3 text-sm",children:(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-medium",children:"Rental Fee"}),(0,d.jsxs)("p",{className:"text-xs text-gray-600",children:[g," (",c.reg,")"]})]})}),(0,d.jsx)("td",{className:"p-3 text-sm text-right font-medium",children:bi(h)})]}),f&&(0,d.jsxs)("tr",{className:"border-b border-gray-300",children:[(0,d.jsx)("td",{className:"p-3 text-sm",children:(0,d.jsxs)("div",{className:"flex items-start gap-2",children:[(0,d.jsx)("span",{style:{color:"#C5A572"},children:"\uD83D\uDEE1"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-medium",children:"Protection Plan"}),(0,d.jsx)("p",{className:"text-xs text-gray-600",children:f.name})]})]})}),(0,d.jsx)("td",{className:"p-3 text-sm text-right font-medium",style:{color:"#C5A572"},children:bi(f.cost)})]}),a.tax_amount>0&&(0,d.jsxs)("tr",{className:"border-b border-gray-300",children:[(0,d.jsx)("td",{className:"p-3 text-sm",children:"Taxes & Fees"}),(0,d.jsx)("td",{className:"p-3 text-sm text-right",children:bi(a.tax_amount)})]}),(0,d.jsxs)("tr",{className:"bg-gray-100",children:[(0,d.jsx)("td",{className:"p-3 text-sm font-bold",children:"Total"}),(0,d.jsx)("td",{className:"p-3 text-lg font-bold text-right",style:{color:"#06b6d4"},children:bi(a.total_amount)})]})]})]})}),a.notes&&(0,d.jsxs)("div",{className:"border border-gray-300 rounded-lg p-4 bg-gray-50 mb-6",children:[(0,d.jsx)("h3",{className:"font-semibold mb-2 text-sm",children:"Notes:"}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:a.notes})]}),(0,d.jsxs)("div",{className:"text-center text-sm text-gray-600 border-t border-gray-300 pt-4",children:[(0,d.jsx)("p",{children:"Thank you for your business!"}),(0,d.jsx)("p",{className:"text-xs mt-1",children:"This is a computer-generated invoice."})]})]})},bk=({open:a,onOpenChange:b,invoice:c,customer:e,vehicle:f,rental:g,protectionPlan:h})=>{let i=(0,B.useRef)(null),j=f.make&&f.model?`${f.make} ${f.model}`:f.reg,k=h?.rentalFee??c.subtotal,l=(0,bh.useReactToPrint)({contentRef:i,documentTitle:`Invoice-${c.invoice_number}`,pageStyle:`
      @page {
        size: A4;
        margin: 0.5in;
      }
      @media print {
        body {
          -webkit-print-color-adjust: exact;
          print-color-adjust: exact;
        }
      }
    `});return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{style:{display:"none"},children:(0,d.jsx)("div",{ref:i,children:(0,d.jsx)(bj,{invoice:c,customer:e,vehicle:f,rental:g,protectionPlan:h})})}),(0,d.jsx)(a5.lG,{open:a,onOpenChange:b,children:(0,d.jsxs)(a5.Cf,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,d.jsx)(a5.c7,{children:(0,d.jsx)("div",{className:"flex items-center justify-between",children:(0,d.jsxs)(a5.L3,{className:"flex items-center gap-2",children:[(0,d.jsx)(be,{className:"h-5 w-5 text-accent"}),"Invoice"]})})}),(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"border-b pb-6",children:[(0,d.jsx)("h1",{className:"text-3xl font-bold text-accent",children:"DRIVE 917"}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"Luxury Vehicle Rental Services"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"font-semibold mb-2",children:"Bill To:"}),(0,d.jsxs)("div",{className:"text-sm space-y-1",children:[(0,d.jsx)("p",{className:"font-medium",children:e.name}),e.email&&(0,d.jsx)("p",{children:e.email}),e.phone&&(0,d.jsx)("p",{children:e.phone})]})]}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsx)("h3",{className:"font-semibold mb-2",children:"Invoice Details:"}),(0,d.jsxs)("div",{className:"text-sm space-y-1",children:[(0,d.jsxs)("p",{children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"Invoice #:"})," ",(0,d.jsx)("strong",{children:c.invoice_number})]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"Date:"})," ",(0,a1.GP)(new Date(c.invoice_date),"PPP")]}),c.due_date&&(0,d.jsxs)("p",{children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"Due Date:"})," ",(0,a1.GP)(new Date(c.due_date),"PPP")]})]})]})]}),(0,d.jsxs)("div",{className:"border rounded-lg p-4 bg-muted/30",children:[(0,d.jsx)("h3",{className:"font-semibold mb-3",children:"Rental Information"}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-muted-foreground",children:"Vehicle:"}),(0,d.jsx)("p",{className:"font-medium",children:j}),(0,d.jsxs)("p",{className:"text-muted-foreground text-xs",children:["Reg: ",f.reg]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-muted-foreground",children:"Rental Period:"}),(0,d.jsxs)("p",{className:"font-medium",children:[(0,a1.GP)(new Date(g.start_date),"PP")," - ",(0,a1.GP)(new Date(g.end_date),"PP")]})]})]})]}),(0,d.jsx)("div",{className:"border rounded-lg overflow-hidden",children:(0,d.jsxs)("table",{className:"w-full",children:[(0,d.jsx)("thead",{className:"bg-muted",children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{className:"text-left p-3 text-sm font-semibold",children:"Description"}),(0,d.jsx)("th",{className:"text-right p-3 text-sm font-semibold",children:"Amount"})]})}),(0,d.jsxs)("tbody",{children:[(0,d.jsxs)("tr",{className:"border-b",children:[(0,d.jsx)("td",{className:"p-3 text-sm",children:(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-medium",children:"Rental Fee"}),(0,d.jsxs)("p",{className:"text-xs text-muted-foreground",children:[j," (",f.reg,")"]})]})}),(0,d.jsx)("td",{className:"p-3 text-sm text-right font-medium",children:bi(k)})]}),h&&(0,d.jsxs)("tr",{className:"border-b",children:[(0,d.jsx)("td",{className:"p-3 text-sm",children:(0,d.jsxs)("div",{className:"flex items-start gap-2",children:[(0,d.jsx)(o.A,{className:"w-4 h-4 text-primary mt-0.5"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-medium",children:"Protection Plan"}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:h.name})]})]})}),(0,d.jsx)("td",{className:"p-3 text-sm text-right font-medium text-primary",children:bi(h.cost)})]}),c.tax_amount>0&&(0,d.jsxs)("tr",{className:"border-b",children:[(0,d.jsx)("td",{className:"p-3 text-sm",children:"Taxes & Fees"}),(0,d.jsx)("td",{className:"p-3 text-sm text-right",children:bi(c.tax_amount)})]}),(0,d.jsxs)("tr",{className:"bg-muted/50",children:[(0,d.jsx)("td",{className:"p-3 text-sm font-bold",children:"Total"}),(0,d.jsx)("td",{className:"p-3 text-lg font-bold text-right text-accent",children:bi(c.total_amount)})]})]})]})}),c.notes&&(0,d.jsxs)("div",{className:"border rounded-lg p-4 bg-muted/30",children:[(0,d.jsx)("h3",{className:"font-semibold mb-2 text-sm",children:"Notes:"}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:c.notes})]}),(0,d.jsxs)("div",{className:"text-center text-sm text-muted-foreground border-t pt-4",children:[(0,d.jsx)("p",{children:"Thank you for your business!"}),(0,d.jsx)("p",{className:"text-xs mt-1",children:"This is a computer-generated invoice."})]})]}),(0,d.jsxs)("div",{className:"flex justify-between items-center border-t pt-4",children:[(0,d.jsxs)(G.$,{variant:"outline",onClick:l,children:[(0,d.jsx)(bf.A,{className:"h-4 w-4 mr-2"}),"Print / Save PDF"]}),(0,d.jsxs)(G.$,{onClick:()=>b(!1),className:"gradient-accent",children:["Continue to Sign Agreement",(0,d.jsx)(bg,{className:"h-4 w-4 ml-2"})]})]})]})})]})},bl=()=>{let a=new Date,b=(0,a1.GP)(a,"yyyy"),c=(0,a1.GP)(a,"MM"),d=(0,a1.GP)(a,"dd"),e=Math.random().toString(36).substring(2,6).toUpperCase();return`INV-${b}${c}${d}-${e}`},bm=async a=>{let b=bl();console.log("\uD83D\uDCC4 Creating invoice with data:",{rental_id:a.rental_id,customer_id:a.customer_id,vehicle_id:a.vehicle_id,invoice_number:b,total_amount:a.total_amount});let{data:c,error:d}=await C.N.from("invoices").insert({rental_id:a.rental_id,customer_id:a.customer_id,vehicle_id:a.vehicle_id,invoice_number:b,invoice_date:(0,a1.GP)(a.invoice_date,"yyyy-MM-dd"),due_date:a.due_date?(0,a1.GP)(a.due_date,"yyyy-MM-dd"):null,subtotal:a.subtotal,rental_fee:a.rental_fee||a.subtotal,protection_fee:a.protection_fee||0,tax_amount:a.tax_amount||0,total_amount:a.total_amount,status:"pending",notes:a.notes}).select().single();if(d)throw console.error("❌ Error creating invoice in database:",d),d;return console.log("✅ Invoice created:",c.invoice_number),c},bn=async a=>{try{return await bm(a)}catch(b){return console.warn("⚠️ Database invoice creation failed, using local invoice:",b),(a=>{let b=bl(),c=new Date().toISOString();return{id:crypto.randomUUID(),rental_id:a.rental_id,customer_id:a.customer_id,vehicle_id:a.vehicle_id,invoice_number:b,invoice_date:(0,a1.GP)(a.invoice_date,"yyyy-MM-dd"),due_date:a.due_date?(0,a1.GP)(a.due_date,"yyyy-MM-dd"):void 0,subtotal:a.subtotal,rental_fee:a.rental_fee||a.subtotal,protection_fee:a.protection_fee||0,tax_amount:a.tax_amount||0,total_amount:a.total_amount,status:"pending",notes:a.notes,created_at:c}})(a)}};function bo({formData:a,selectedVehicle:b,extras:c,rentalDuration:e,vehicleTotal:f,selectedProtectionPlan:g,onBack:h}){(0,a9.useRouter)();let[i,j]=(0,B.useState)(!1),[l,m]=(0,B.useState)(!1),[n,r]=(0,B.useState)(!1),[s,t]=(0,B.useState)(null),[u,v]=(0,B.useState)(null),[w,x]=(0,B.useState)(!1),z=()=>{if(!g)return 0;let a=e.days;if(a>=30&&g.price_per_month){let b=Math.ceil(a/30);return g.price_per_month*b}if(!(a>=7)||!g.price_per_week)return g.price_per_day*a;{let b=Math.ceil(a/7);return g.price_per_week*b}},A=()=>{let a=.1*f+50;return f+a+z()},D=async()=>{try{let{data:a,error:b}=await C.N.functions.invoke("get-booking-mode");if(b)return console.error("Error fetching booking mode:",b),"manual";return a?.mode||"manual"}catch(a){return console.error("Error fetching booking mode:",a),"manual"}},E=async()=>{if(!u)return void aQ.oR.error("Rental data not found");try{m(!0);let{data:b,error:c}=await C.N.functions.invoke("create-checkout-session",{body:{rentalId:u.rental.id,customerEmail:a.customerEmail,customerName:a.customerName,totalAmount:A()}});if(c)throw c;if(b?.url)window.location.href=b.url;else throw Error("Failed to create checkout session")}catch(a){console.error("Stripe redirect error:",a),aQ.oR.error(a.message||"Failed to redirect to payment"),m(!1)}},F=async()=>{if(!u)return void aQ.oR.error("Rental data not found");try{m(!0);let{data:c,error:d}=await C.N.functions.invoke("create-preauth-checkout",{body:{rentalId:u.rental.id,customerId:u.customer.id,customerEmail:a.customerEmail,customerName:a.customerName,customerPhone:a.customerPhone,vehicleId:b.id,vehicleName:b.make&&b.model?`${b.make} ${b.model}`:b.reg,totalAmount:A(),pickupDate:a.pickupDate,returnDate:a.dropoffDate,protectionPlan:g?.display_name||"none"}});if(d)throw d;if(c?.url)window.location.href=c.url;else throw Error("Failed to create checkout session")}catch(a){console.error("Stripe pre-auth redirect error:",a),aQ.oR.error(a.message||"Failed to redirect to payment"),m(!1)}},H=async()=>{if(u)try{x(!0),aQ.oR.loading("Sending rental agreement via DocuSign...",{id:"docusign-send"});let{data:b,error:c}=await C.N.functions.invoke("create-docusign-envelope",{body:{rentalId:u.rental.id,customerId:u.customer.id,customerEmail:a.customerEmail,customerName:a.customerName}});if(c)throw c;if(b?.ok)aQ.oR.success("Rental agreement sent successfully!",{id:"docusign-send"});else throw Error(b?.error||"Failed to send DocuSign")}catch(a){console.error("DocuSign error:",a),aQ.oR.error(a.message||"Failed to send rental agreement",{id:"docusign-send"})}finally{x(!1),"manual"===await D()?F():E()}},I=async()=>{if(!i)return void aQ.oR.error("You must agree to the terms and conditions");if(!l){m(!0),console.log("\uD83D\uDD0D Checkout formData:",a),console.log("\uD83D\uDD0D Verification Session ID:",a.verificationSessionId);try{let c;console.log("\uD83D\uDCDD Finding or creating customer...");let{data:d}=await C.N.from("customers").select("*").eq("email",a.customerEmail).maybeSingle();if(d){console.log("\uD83D\uDC64 Found existing customer, updating...");let{data:b,error:e}=await C.N.from("customers").update({type:a.customerType,name:a.customerName,phone:a.customerPhone,status:"Active"}).eq("id",d.id).select().single();if(e)throw e;c=b}else{console.log("\uD83C\uDD95 Creating new customer...");let{data:b,error:d}=await C.N.from("customers").insert({type:a.customerType,name:a.customerName,email:a.customerEmail,phone:a.customerPhone,status:"Active",is_blocked:!1}).select().single();if(d)throw d;c=b}if(console.log("✅ Customer ready:",c.id),a.verificationSessionId){console.log("\uD83D\uDD17 Linking verification to customer:",a.verificationSessionId),console.log("\uD83D\uDD17 Customer ID to link:",c.id);let{data:b,error:d}=await C.N.from("identity_verifications").select("*").eq("session_id",a.verificationSessionId).maybeSingle();if(console.log("\uD83D\uDD0D Query result - verification:",b),console.log("\uD83D\uDD0D Query result - error:",d),!d&&b){console.log("✅ Found verification record:",{id:b.id,session_id:b.session_id,current_customer_id:b.customer_id,review_result:b.review_result});let{data:a,error:d}=await C.N.from("identity_verifications").update({customer_id:c.id}).eq("id",b.id).select();if(console.log("\uD83D\uDCDD Update result - data:",a),console.log("\uD83D\uDCDD Update result - error:",d),d)console.error("❌ Failed to link verification to customer:",d);else{console.log("✅ Successfully linked verification to customer"),console.log("✅ Updated verification record:",a);let{data:d}=await C.N.from("identity_verifications").select("id, session_id, customer_id, review_result").eq("id",b.id).single();console.log("\uD83D\uDD0D Verification after update:",d);let e="pending";"GREEN"===b.review_result?e="verified":"RED"===b.review_result&&(e="rejected");let{error:f}=await C.N.from("customers").update({identity_verification_status:e}).eq("id",c.id);f?console.error("Failed to update customer verification status:",f):console.log("✅ Updated customer verification status to:",e)}}else console.log("❌ Verification not found or still pending"),console.log("Error details:",d)}else console.log("⚠️ No verification session ID in formData");let h=(()=>{let a=e.days;return a>=30?"Monthly":a>=7?"Weekly":"Daily"})(),i=A(),{data:j,error:k}=await C.N.from("rentals").insert({customer_id:c.id,vehicle_id:b.id,start_date:a.pickupDate,end_date:a.dropoffDate,rental_period_type:h,monthly_amount:i,status:"Pending"}).select().single();if(k)throw k;console.log("\uD83D\uDD04 Generating first charge for rental:",j.id);let{error:l}=await C.N.rpc("generate_first_charge_for_rental",{rental_id_param:j.id});l?console.error("⚠️ Failed to generate first charge:",l):console.log("✅ First charge generated successfully");let n=await D();if(console.log("\uD83D\uDCCB Booking mode:",n),"auto"===n){let{error:a}=await C.N.from("vehicles").update({status:"Rented"}).eq("id",b.id);a?console.error("Failed to update vehicle status:",a):console.log("✅ Vehicle marked as Rented (AUTO mode)")}else console.log("⏳ Vehicle status unchanged (MANUAL mode - awaiting approval)");if(console.log("\uD83D\uDEE1️ Protection Plan Debug:",{hasSelectedPlan:!!g,planId:a.protectionPlanId,planDetails:g?{display_name:g.display_name,price_per_day:g.price_per_day}:null,rentalId:j.id,rentalDays:e.days}),g&&a.protectionPlanId)try{let b=z(),c={rental_id:j.id,protection_plan_id:a.protectionPlanId,daily_rate:g.price_per_day,total_days:e.days,total_cost:b};console.log("\uD83D\uDEE1️ Inserting protection selection:",c);let{data:d,error:f}=await C.N.from("rental_protection_selections").insert(c).select();f?(console.error("❌ Failed to save protection plan selection:",f),console.error("❌ Error details:",JSON.stringify(f,null,2))):(console.log("✅ Protection plan selection saved successfully!"),console.log("✅ Saved data:",d))}catch(a){console.error("❌ Protection plan save error (catch):",a)}else console.log("⚠️ Skipping protection plan save - no plan selected or missing planId");let o=z(),p=`Security deposit of $${500..toLocaleString()} will be held during the rental period.`;g&&(p+=`

Protection Plan: ${g.display_name} - $${o.toLocaleString()} (${e.days} days @ $${g.price_per_day}/day)`,0===g.deductible_amount?p+=`
✓ Zero Deductible Coverage`:p+=`
• Deductible: $${g.deductible_amount.toLocaleString()}`,g.max_coverage_amount&&(p+=`
• Maximum Coverage: $${g.max_coverage_amount.toLocaleString()}`));let q=await bn({rental_id:j.id,customer_id:c.id,vehicle_id:b.id,invoice_date:new Date,due_date:new Date(a.pickupDate),subtotal:f+o,rental_fee:f,protection_fee:o,tax_amount:.1*f+50,total_amount:A(),notes:p});console.log("✅ Invoice ready:",q.invoice_number),t(q),console.log("\uD83D\uDCB3 Storing payment details for success page...");let s={amount:A(),customer_id:c.id,rental_id:j.id,vehicle_id:b.id,apply_from_date:a.pickupDate};localStorage.setItem("pendingPaymentDetails",JSON.stringify(s)),console.log("✅ Payment details stored:",s),v({customer:c,rental:j,vehicle:b}),r(!0),m(!1)}catch(a){console.error("Payment error:",a),aQ.oR.error(a.message||"Failed to initiate payment")}finally{m(!1)}}};return(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-3xl font-display font-bold text-gradient-metal mb-2",children:"Review & Payment"}),(0,d.jsx)("p",{className:"text-muted-foreground",children:"Confirm your details and secure your rental below."})]}),(0,d.jsxs)("div",{className:"grid lg:grid-cols-3 gap-6",children:[(0,d.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,d.jsxs)(y.Zp,{className:"p-6 bg-card border-accent/20",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Rental Summary"}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)(p.A,{className:"w-5 h-5 text-accent mt-0.5"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-medium",children:b.make&&b.model?`${b.make} ${b.model}`:b.reg}),(0,d.jsxs)("p",{className:"text-sm text-muted-foreground",children:[b.colour?`${b.colour} • `:"",b.reg]})]})]}),(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)(aS.A,{className:"w-5 h-5 text-accent mt-0.5"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-medium",children:e.formatted}),(0,d.jsxs)("p",{className:"text-sm text-muted-foreground",children:[(0,a1.GP)(new Date(a.pickupDate),"MMM dd, yyyy")," - ",(0,a1.GP)(new Date(a.dropoffDate),"MMM dd, yyyy")]})]})]}),(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)(k.A,{className:"w-5 h-5 text-accent mt-0.5"}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("p",{className:"font-medium",children:["Pickup: ",a.pickupLocation]}),(0,d.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Return: ",a.dropoffLocation]})]})]}),(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)(q.A,{className:"w-5 h-5 text-accent mt-0.5"}),(0,d.jsx)("div",{children:(0,d.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Pickup: ",a.pickupTime," | Return: ",a.dropoffTime]})})]}),g&&(0,d.jsxs)("div",{className:"flex items-start gap-3 pt-3 border-t border-border/50",children:[(0,d.jsx)(o.A,{className:"w-5 h-5 text-primary mt-0.5"}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("p",{className:"font-medium text-primary",children:g.display_name}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:g.description}),(0,d.jsxs)("div",{className:"mt-2 space-y-1",children:[0===g.deductible_amount&&(0,d.jsx)("p",{className:"text-xs text-green-600 font-medium",children:"✓ Zero Deductible"}),g.max_coverage_amount&&(0,d.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Coverage up to $",g.max_coverage_amount.toLocaleString()]})]})]}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsxs)("p",{className:"font-semibold text-primary",children:["$",z().toLocaleString()]}),(0,d.jsxs)("p",{className:"text-xs text-muted-foreground",children:["$",g.price_per_day,"/day"]})]})]})]})]}),(0,d.jsxs)(y.Zp,{className:"p-6 bg-card border-accent/20",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Your Details"}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)(bb.A,{className:"w-5 h-5 text-accent mt-0.5"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-medium",children:a.customerName}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:a.customerType})]})]}),(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)("div",{className:"w-5 h-5 text-accent mt-0.5 flex items-center justify-center",children:(0,d.jsx)("span",{className:"text-sm",children:"@"})}),(0,d.jsx)("div",{children:(0,d.jsx)("p",{className:"text-sm",children:a.customerEmail})})]}),(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)("div",{className:"w-5 h-5 text-accent mt-0.5 flex items-center justify-center",children:(0,d.jsx)("span",{className:"text-sm",children:"\uD83D\uDCDE"})}),(0,d.jsx)("div",{children:(0,d.jsx)("p",{className:"text-sm",children:a.customerPhone})})]})]})]}),(0,d.jsx)(y.Zp,{className:"p-6 cursor-pointer hover:border-primary/50 transition-colors",onClick:()=>j(!i),children:(0,d.jsxs)("div",{className:"flex items-start gap-3",children:[(0,d.jsx)(ba.S,{checked:i,onCheckedChange:a=>j(a),className:"mt-0.5",onClick:a=>a.stopPropagation()}),(0,d.jsxs)(O.J,{className:"text-sm leading-relaxed cursor-pointer",children:["By confirming, you agree to Drive 917's"," ",(0,d.jsx)("a",{href:"/terms",target:"_blank",className:"text-accent underline",onClick:a=>a.stopPropagation(),children:"Terms of Service"})," and"," ",(0,d.jsx)("a",{href:"/privacy",target:"_blank",className:"text-accent underline",onClick:a=>a.stopPropagation(),children:"Privacy Policy"}),"."]})]})})]}),(0,d.jsx)("div",{className:"lg:col-span-1",children:(0,d.jsxs)(y.Zp,{className:"p-6 bg-gradient-dark border-accent/30 lg:sticky lg:top-24",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gradient-metal mb-4",children:"Price Summary"}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,d.jsxs)("span",{className:"text-muted-foreground",children:["Rental (",e.days," days)"]}),(0,d.jsxs)("span",{className:"font-medium",children:["$",f.toLocaleString()]})]}),g&&(0,d.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(o.A,{className:"w-4 h-4 text-primary"}),(0,d.jsx)("span",{className:"text-muted-foreground",children:g.display_name})]}),(0,d.jsxs)("span",{className:"font-medium text-primary",children:["+$",z().toLocaleString()]})]}),(0,d.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"Taxes & Fees"}),(0,d.jsxs)("span",{className:"font-medium",children:["$",(.1*f+50).toLocaleString()]})]}),(0,d.jsxs)("div",{className:"flex justify-between text-sm pb-3 border-b border-border",children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"Security Deposit (hold)"}),(0,d.jsxs)("span",{className:"font-medium",children:["$",500..toLocaleString()]})]}),(0,d.jsx)("div",{className:"pt-3 border-t border-accent/30",children:(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("span",{className:"text-lg font-semibold",children:"Total Due Today"}),(0,d.jsxs)("span",{className:"text-2xl font-bold text-accent",children:["$",A().toLocaleString()]})]})}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground mt-4",children:"You'll receive a digital receipt immediately. Deposit is held, not charged."})]}),(0,d.jsxs)("div",{className:"mt-6 space-y-3",children:[(0,d.jsx)(G.$,{onClick:I,disabled:l||w||!i,className:"w-full gradient-accent hover-lift",size:"lg",children:l?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(bc.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):w?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(bc.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending Agreement..."]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(bd,{className:"w-4 h-4 mr-2"}),"Confirm & Pay $",A().toLocaleString()]})}),(0,d.jsxs)(G.$,{onClick:h,variant:"outline",className:"w-full border-primary text-primary hover:bg-primary/10",size:"lg",disabled:l,children:[(0,d.jsx)(aU.A,{className:"w-4 h-4 mr-2"}),"Back to Vehicles"]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground justify-center pt-2",children:[(0,d.jsx)(o.A,{className:"w-4 h-4"}),(0,d.jsx)("span",{children:"Secured by Stripe. Card details never stored."})]})]})]})})]}),s&&u&&(0,d.jsx)(bk,{open:n,onOpenChange:a=>{r(a),a||H()},invoice:s,customer:{name:a.customerName,email:a.customerEmail,phone:a.customerPhone},vehicle:{reg:b.reg,make:b.make,model:b.model},rental:{start_date:a.pickupDate,end_date:a.dropoffDate,monthly_amount:u.rental.monthly_amount},protectionPlan:g?{name:g.display_name,cost:z(),rentalFee:f}:void 0})]})}let bp=(0,h.A)("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var bq=c(71117),br=c(82042),bs=c(85351),bt=c(59147);let bu=bt.bL,bv=bt.R6,bw=bt.Ke,bx=({tier:a,className:b})=>{switch(a){case"basic":default:return(0,d.jsx)(o.A,{className:b});case"standard":return(0,d.jsx)(bp,{className:b});case"premium":case"ultimate":return(0,d.jsx)(x.A,{className:b})}},by=({selectedPlanId:a,onSelectPlan:b,rentalDays:c})=>{let[e,f]=(0,B.useState)([]),[g,h]=(0,B.useState)(!0),[i,j]=(0,B.useState)(null);(0,B.useEffect)(()=>{k()},[]);let k=async()=>{try{let{data:a,error:b}=await C.N.from("protection_plans").select("*").eq("is_active",!0).order("display_order",{ascending:!0});if(b)throw b;f(a||[])}catch(a){console.error("Error loading protection plans:",a)}finally{h(!1)}},l=a=>{if(c>=30&&a.price_per_month){let b=Math.ceil(c/30);return{total:a.price_per_month*b,perDay:a.price_per_month/30,label:`$${a.price_per_month}/month`}}if(!(c>=7)||!a.price_per_week)return{total:a.price_per_day*c,perDay:a.price_per_day,label:`$${a.price_per_day}/day`};{let b=Math.ceil(c/7);return{total:a.price_per_week*b,perDay:a.price_per_week/7,label:`$${a.price_per_week}/week`}}};return g?(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)("div",{className:"h-48 bg-muted animate-pulse rounded-lg"}),(0,d.jsx)("div",{className:"h-48 bg-muted animate-pulse rounded-lg"}),(0,d.jsx)("div",{className:"h-48 bg-muted animate-pulse rounded-lg"})]}):(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"text-center max-w-2xl mx-auto",children:[(0,d.jsx)("h3",{className:"text-2xl md:text-3xl font-display font-semibold mb-2",children:"Protect Your Rental"}),(0,d.jsx)("p",{className:"text-muted-foreground",children:"Add comprehensive protection coverage and save up to 50% compared to rental counter prices"})]}),(0,d.jsx)(y.Zp,{className:(0,af.cn)("cursor-pointer transition-all duration-300 border-2",null===a?"border-primary bg-primary/5":"border-border hover:border-primary/40"),onClick:()=>b(null,null),children:(0,d.jsx)("div",{className:"p-4 sm:p-6",children:(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 sm:gap-4",children:[(0,d.jsx)("div",{className:(0,af.cn)("w-10 h-10 sm:w-12 sm:h-12 rounded-lg flex items-center justify-center flex-shrink-0",null===a?"bg-primary/20":"bg-muted"),children:(0,d.jsx)(bq.A,{className:(0,af.cn)("w-5 h-5 sm:w-6 sm:h-6",null===a?"text-primary":"text-muted-foreground")})}),(0,d.jsxs)("div",{className:"min-w-0",children:[(0,d.jsx)("h4",{className:"font-semibold text-base sm:text-lg",children:"Decline Protection"}),(0,d.jsx)("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"I'll use my own insurance or accept the risk"})]})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between sm:justify-end gap-3 sm:gap-4 pt-2 sm:pt-0 border-t sm:border-0 border-border/50",children:[(0,d.jsxs)("div",{className:"sm:text-right",children:[(0,d.jsx)("div",{className:"text-xl sm:text-2xl font-bold",children:"$0"}),(0,d.jsx)("div",{className:"text-xs text-muted-foreground",children:"No additional cost"})]}),null===a&&(0,d.jsx)("div",{className:"w-6 h-6 bg-primary rounded-full flex items-center justify-center flex-shrink-0",children:(0,d.jsx)(aR.A,{className:"w-4 h-4 text-primary-foreground"})})]})]})})}),e.map(e=>{let f=l(e),g=(a=>{let b=l(a).total,c=2.5*b,d=c-b,e=Math.round(d/c*100);return{amount:d,percent:e}})(e),h=a===e.id,k=i===e.id,m="premium"===e.tier||"ultimate"===e.tier;return(0,d.jsxs)(y.Zp,{className:(0,af.cn)("cursor-pointer transition-all duration-300 border-2 relative overflow-hidden",h?"border-primary bg-primary/5 shadow-glow":"border-border hover:border-primary/40",m&&"shadow-glow"),onClick:()=>b(e.id,e),children:["standard"===e.tier&&(0,d.jsx)("div",{className:"flex justify-end mt-2 mr-3",children:(0,d.jsx)(aP.E,{className:"bg-green-600 text-white",children:"Recommended"})}),m&&(0,d.jsx)("div",{className:"flex justify-end mt-2 mr-3",children:(0,d.jsx)(aP.E,{className:"bg-primary text-primary-foreground",children:"Best Value"})}),m&&(0,d.jsx)("div",{className:" inset-0 opacity-5 pointer-events-none",style:{background:`linear-gradient(135deg, ${e.color_theme}40 0%, transparent 100%)`}}),(0,d.jsxs)("div",{className:"p-4 md:p-6 space-y-4 relative",children:[(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4",children:[(0,d.jsxs)("div",{className:"flex items-start gap-3 sm:gap-4 flex-1",children:[(0,d.jsx)("div",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-xl flex items-center justify-center flex-shrink-0",style:{backgroundColor:(e.color_theme||"#60A5FA")+"20"},children:(0,d.jsx)(bx,{tier:e.tier,className:"w-6 h-6 sm:w-8 sm:h-8",style:{color:e.color_theme||"#60A5FA"}})}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("h4",{className:"font-display text-lg sm:text-xl font-semibold mb-1",children:e.display_name}),(0,d.jsx)("p",{className:"text-xs sm:text-sm text-muted-foreground mb-2 sm:mb-3 line-clamp-2 sm:line-clamp-none",children:e.description}),0===e.deductible_amount?(0,d.jsx)(aP.E,{variant:"default",className:"bg-green-600 text-xs",children:"ZERO DEDUCTIBLE"}):(0,d.jsxs)(aP.E,{variant:"secondary",className:"text-xs",children:["$",e.deductible_amount.toLocaleString()," Deductible"]})]})]}),(0,d.jsxs)("div",{className:"flex sm:flex-col items-center sm:items-end justify-between sm:justify-start gap-2 sm:gap-0 pt-2 sm:pt-0 border-t sm:border-0 border-border/50",children:[(0,d.jsxs)("div",{className:"flex flex-col sm:items-end",children:[(0,d.jsxs)("div",{className:"text-2xl sm:text-3xl font-bold",style:{color:e.color_theme||"#60A5FA"},children:["$",f.total.toLocaleString()]}),(0,d.jsxs)("div",{className:"text-xs text-muted-foreground",children:[f.label," \xd7 ",c," days"]}),(0,d.jsxs)("div",{className:"text-xs font-medium text-green-600 mt-1",children:["Save ",g.percent,"% vs rental counter"]})]}),h&&(0,d.jsx)("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center sm:mt-3",children:(0,d.jsx)(aR.A,{className:"w-5 h-5 text-primary-foreground"})})]})]}),(0,d.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:e.features.slice(0,4).map((a,b)=>(0,d.jsxs)("div",{className:"flex items-start gap-2 text-xs sm:text-sm",children:[(0,d.jsx)(aR.A,{className:"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5"}),(0,d.jsx)("span",{children:a})]},b))}),(e.features.length>4||e.exclusions.length>0)&&(0,d.jsxs)(bu,{open:k,onOpenChange:()=>j(k?null:e.id),children:[(0,d.jsx)(bv,{asChild:!0,children:(0,d.jsx)(G.$,{variant:"ghost",size:"sm",className:"w-full",onClick:a=>{a.stopPropagation(),j(k?null:e.id)},children:k?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(br.A,{className:"w-4 h-4 mr-2"}),"Show Less"]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(bs.A,{className:"w-4 h-4 mr-2"}),"View Full Coverage Details"]})})}),(0,d.jsxs)(bw,{className:"space-y-4 pt-4",children:[e.features.length>4&&(0,d.jsxs)("div",{children:[(0,d.jsx)("h5",{className:"font-semibold text-sm mb-2",children:"All Features:"}),(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:e.features.map((a,b)=>(0,d.jsxs)("div",{className:"flex items-start gap-2 text-sm",children:[(0,d.jsx)(aR.A,{className:"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5"}),(0,d.jsx)("span",{children:a})]},b))})]}),e.exclusions.length>0&&(0,d.jsxs)("div",{children:[(0,d.jsx)("h5",{className:"font-semibold text-sm mb-2 text-destructive",children:"Not Covered:"}),(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:e.exclusions.map((a,b)=>(0,d.jsxs)("div",{className:"flex items-start gap-2 text-sm text-muted-foreground",children:[(0,d.jsx)("span",{className:"text-destructive",children:"\xd7"}),(0,d.jsx)("span",{children:a})]},b))})]}),e.max_coverage_amount&&(0,d.jsx)("div",{className:"pt-3 border-t border-border",children:(0,d.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"Maximum Coverage:"}),(0,d.jsxs)("span",{className:"font-semibold",children:["$",e.max_coverage_amount.toLocaleString()]})]})})]})]}),!h&&(0,d.jsxs)(G.$,{className:(0,af.cn)("w-full mt-4",m?"bg-primary text-primary-foreground hover:bg-primary/90":"bg-background border-2 border-primary text-primary hover:bg-primary hover:text-primary-foreground"),onClick:a=>{a.stopPropagation(),b(e.id,e)},children:["Select ",e.display_name]})]})]},e.id)})]})},bz=()=>{let[a,b]=(0,B.useState)(1),[c,e]=(0,B.useState)([]),[f,g]=(0,B.useState)([]),[h,i]=(0,B.useState)([]),[k,l]=(0,B.useState)(!1),[m,n]=(0,B.useState)(!1),[r,s]=(0,B.useState)(""),[t,v]=(0,B.useState)(null),[w,A]=(0,B.useState)(null),[D,E]=(0,B.useState)(!1),[F,H]=(0,B.useState)(!1),[I,J]=(0,B.useState)(!1),[K,L]=(0,B.useState)(null),M=(0,B.useRef)(!1),Q=(0,B.useRef)(null),R=(0,B.useRef)(null),[S,T]=(0,B.useState)([]),[U,V]=(0,B.useState)([]),[W,X]=(0,B.useState)({}),[Y,Z]=(0,B.useState)(!0),{data:$}=(0,z.y)("home"),_=(0,z.TP)($,z.Sz),[aa,ab]=(0,B.useState)(""),[ac,ad]=(0,B.useState)("grid"),[ae,ak]=(0,B.useState)("recommended"),[al,am]=(0,B.useState)([]),[an,ao]=(0,B.useState)(!1),[ap,aq]=(0,B.useState)([0,500]),[ar,as]=(0,B.useState)([0,2e3]),[at,au]=(0,B.useState)([0,5e3]),[av,aw]=(0,B.useState)({transmission:[],fuel:[],seats:[2,7],dailyPriceRange:[0,500],weeklyPriceRange:[0,2e3],monthlyPriceRange:[0,5e3],colors:[]}),ax=(0,B.useRef)(),[ay,az]=(0,B.useState)(new Set),[aA,aB]=(0,B.useState)({pickupLocation:"",dropoffLocation:"",pickupDate:"",dropoffDate:"",pickupTime:"",dropoffTime:"",specialRequests:"",vehicleId:"",driverAge:"",promoCode:"",customerName:"",customerEmail:"",customerPhone:"",customerType:"",licenseNumber:"",verificationSessionId:"",protectionPlanId:null}),[aC,aD]=(0,B.useState)(null),[aE,aF]=(0,B.useState)(null),[aG,aH]=(0,B.useState)("init"),[aI,aJ]=(0,B.useState)(!1),[aK,aL]=(0,B.useState)({pickupLat:null,pickupLon:null,dropoffLat:null,dropoffLon:null});(0,B.useEffect)(()=>{aM();let a=localStorage.getItem("viewMode");("grid"===a||"list"===a)&&ad(a);let b=localStorage.getItem("verificationSessionId"),c=localStorage.getItem("verificationStatus");localStorage.getItem("verificationToken"),b&&c&&(aF(b),aH(c),aB(a=>({...a,verificationSessionId:b})),console.log("✅ Loaded verification from localStorage:",b,c));let d=async()=>{let a=localStorage.getItem("verificationSessionId"),b=localStorage.getItem("verificationStatus");if(a&&"pending"===b){console.log("\uD83D\uDD04 Window focused - checking verification status for iOS Safari...");let b=await aN(a);b&&("GREEN"===b.review_result?(aH("verified"),localStorage.setItem("verificationStatus","verified"),aQ.oR.success("Identity verification successful!"),console.log("✅ Verification updated on window focus")):"RED"===b.review_result&&(aH("rejected"),localStorage.setItem("verificationStatus","rejected"),aQ.oR.error("Identity verification failed.")))}},e=()=>{"visible"===document.visibilityState&&d()},f=async a=>{if(a.origin===window.location.origin&&a.data?.type==="VERIFF_COMPLETE"){console.log("\uD83D\uDCE8 Received VERIFF_COMPLETE message from popup");let a=localStorage.getItem("verificationSessionId");if(a){let b=async(c=1,d=5)=>{console.log(`🔄 Checking verification status (attempt ${c}/${d})...`);let e=await aN(a);return e?.review_result==="GREEN"?(aH("verified"),localStorage.setItem("verificationStatus","verified"),aQ.oR.success("Identity verification successful!"),console.log("✅ Verification confirmed via popup message"),!0):e?.review_result==="RED"?(aH("rejected"),localStorage.setItem("verificationStatus","rejected"),aQ.oR.error("Identity verification failed."),!0):void(c<d?setTimeout(()=>b(c+1,d),2e3*c):console.log("⚠️ Max retry attempts reached, webhook may be delayed"))};setTimeout(()=>b(),2e3)}}};return window.addEventListener("focus",d),document.addEventListener("visibilitychange",e),window.addEventListener("message",f),()=>{window.removeEventListener("focus",d),document.removeEventListener("visibilitychange",e),window.removeEventListener("message",f)}},[]),(0,B.useEffect)(()=>{Y&&aA.pickupLocation&&(aB(a=>({...a,dropoffLocation:a.pickupLocation})),aK.pickupLat&&aK.pickupLon&&aL(a=>({...a,dropoffLat:a.pickupLat,dropoffLon:a.pickupLon})))},[Y,aA.pickupLocation,aK.pickupLat,aK.pickupLon]),(0,B.useEffect)(()=>{aA.vehicleId&&Q.current&&2===a&&setTimeout(()=>{let a=Q.current;if(a){let b=a.getBoundingClientRect().top+window.scrollY;window.scrollTo({top:b-250,behavior:"smooth"})}},300)},[aA.vehicleId,a]),(0,B.useEffect)(()=>{if(R.current){let a=R.current.getBoundingClientRect().top+window.scrollY;window.scrollTo({top:a-100,behavior:"smooth"})}},[a]),(0,B.useEffect)(()=>{let{pickupLat:a,pickupLon:b,dropoffLat:c,dropoffLon:d}=aK;a&&b&&c&&d&&a9()},[aK]),(0,B.useEffect)(()=>{let a=sessionStorage.getItem("prefilledRequirements");a&&(aB(b=>({...b,specialRequests:a})),sessionStorage.removeItem("prefilledService"),sessionStorage.removeItem("prefilledRequirements"))},[]);let aM=async()=>{let{data:a}=await C.N.from("vehicles").select(`
      *,
      vehicle_photos (
        photo_url
      )
    `).ilike("status","Available").order("reg"),{data:b}=await C.N.from("pricing_extras").select("*"),{data:c}=await C.N.from("blocked_dates").select("id, start_date, end_date, vehicle_id, reason");if(a){e(a),a.map(a=>a.monthly_rent||a.daily_rent||0).filter(a=>a>0);let b=a.map(a=>a.daily_rent).filter(a=>null!=a&&a>0),c=a.map(a=>a.weekly_rent).filter(a=>null!=a&&a>0),d=a.map(a=>a.monthly_rent).filter(a=>null!=a&&a>0);if(b.length>0){let a=[Math.min(...b),Math.max(...b)];aq(a),aw(b=>({...b,dailyPriceRange:a}))}if(c.length>0){let a=[Math.min(...c),Math.max(...c)];as(a),aw(b=>({...b,weeklyPriceRange:a}))}if(d.length>0){let a=[Math.min(...d),Math.max(...d)];au(a),aw(b=>({...b,monthlyPriceRange:a}))}}if(b&&g(b),c){V(c);let a=c.filter(a=>null===a.vehicle_id),b=[];a.forEach(a=>{let c=new Date(a.start_date),d=new Date(a.end_date),e=new Date(c);for(;e<=d;)b.push((0,a1.GP)(e,"yyyy-MM-dd")),e.setDate(e.getDate()+1)}),T(b)}},aN=async a=>{try{let{data:b,error:c}=await C.N.from("identity_verifications").select("review_result, status, review_status").eq("session_id",a).maybeSingle();if(c)return console.error("Error checking verification status:",c),null;return b}catch(a){return console.error("Error checking verification:",a),null}},a5=()=>{aF(null),aH("init"),aB(a=>({...a,verificationSessionId:""})),localStorage.removeItem("verificationSessionId"),localStorage.removeItem("verificationToken"),localStorage.removeItem("verificationStatus"),aQ.oR.info("Verification cleared. You can verify again.")},a6=async()=>{if(!aA.customerName||!aA.customerEmail||!aA.customerPhone)return void aQ.oR.error("Please fill in your name, email, and phone number first");aJ(!0);let a=window.open("about:blank","_blank","width=800,height=600");try{let{data:b,error:c}=await C.N.functions.invoke("create-veriff-session",{body:{customerDetails:{name:aA.customerName,email:aA.customerEmail,phone:aA.customerPhone}}});if(c)throw c;if(b?.ok&&b?.sessionUrl){aF(b.verificationId),aH("pending"),aB(a=>({...a,verificationSessionId:b.verificationId})),console.log("✅ Stored verification session ID in formData:",b.verificationId),localStorage.setItem("verificationSessionId",b.verificationId),localStorage.setItem("verificationToken",b.sessionToken),localStorage.setItem("verificationStatus","pending"),a&&(a.location.href=b.sessionUrl),aQ.oR.success("Verification window opened. Please complete the identity verification.");let c=setInterval(async()=>{let a=await aN(b.verificationId);a&&("GREEN"===a.review_result?(aH("verified"),localStorage.setItem("verificationStatus","verified"),aQ.oR.success("Identity verification successful!"),clearInterval(c)):"RED"===a.review_result&&(aH("rejected"),localStorage.setItem("verificationStatus","rejected"),aQ.oR.error("Identity verification failed. Please try again."),clearInterval(c)))},3e3);setTimeout(()=>clearInterval(c),3e5)}else throw Error(b?.error||"Failed to create verification session")}catch(b){console.error("Verification error:",b),aQ.oR.error(b.message||"Failed to start verification"),a&&a.close()}finally{aJ(!1)}},a9=async()=>{let{pickupLat:a,pickupLon:b,dropoffLat:c,dropoffLon:d}=aK;if(!a||!b||!c||!d)return void aQ.oR.error("Please select both pickup and dropoff locations from the suggestions");l(!0);try{let e=await fetch(`https://router.project-osrm.org/route/v1/driving/${b},${a};${d},${c}?overview=false`);if(e.ok){let a=await e.json();if(a.routes&&a.routes.length>0){let b=Math.round(a.routes[0].distance/1609.34*10)/10,c=Math.round(a.routes[0].duration/60);A(b),aQ.oR.success(`Driving distance: ${b} miles (approx. ${c} min)`)}else throw Error("No route found")}else throw Error("Failed to calculate route")}catch(f){console.error("Error calculating driving distance:",f);let e=((a,b,c,d)=>{let e=(c-a)*Math.PI/180,f=(d-b)*Math.PI/180,g=Math.sin(e/2)*Math.sin(e/2)+Math.cos(a*Math.PI/180)*Math.cos(c*Math.PI/180)*Math.sin(f/2)*Math.sin(f/2);return Math.round(2*Math.atan2(Math.sqrt(g),Math.sqrt(1-g))*39588)/10})(a,b,c,d);A(e),aQ.oR.warning(`Estimated distance: ${e} miles (straight-line, route unavailable)`)}finally{l(!1)}},ba=a=>{az(b=>{let c=new Set(b);return c.has(a)?c.delete(a):c.add(a),c})},bb=a=>{if(!a.description)return null;let b=ay.has(a.id),c=a.description.length>120;return b||!c?a.description:a.description.substring(0,120)+"..."},bc=()=>{if(!aA.pickupDate||!aA.dropoffDate||!aA.pickupTime||!aA.dropoffTime)return null;let a=new Date(`${aA.pickupDate}T${aA.pickupTime}:00`),b=function(a,b,c){var d;return(d=void 0,a=>{let b=(d?Math[d]:Math.trunc)(a);return 0===b?0:b})(((0,a3.a)(a)-(0,a3.a)(b))/a2.s0)}(new Date(`${aA.dropoffDate}T${aA.dropoffTime}:00`),a),c=Math.floor(b/24),d=b%24;return{hours:b,days:c,remainingHours:d,isValid:b>=24&&c<=365,formatted:d>0?`${c}d ${d}h`:`${c} day${1!==c?"s":""}`}},bd=a=>{if(!aA.pickupDate||!aA.dropoffDate)return null;let b=bc();if(!b)return null;let c=b.days,d=0,e=a.daily_rent||0,f=a.weekly_rent||0,g=a.monthly_rent||0;return c>=28&&g>0?d=Math.floor(c/30)*g+(e>0?c%30*e:0):c>=7&&f>0?d=Math.floor(c/7)*f+(e>0?c%7*e:0):e>0?d=c*e:g>0&&(d=g/30*c),{total:d,days:c}},be=()=>{if(!aC)return 0;let a=bc()?.days||0;if(a>=30&&aC.price_per_month){let b=Math.ceil(a/30);return aC.price_per_month*b}if(!(a>=7)||!aC.price_per_week)return(aC.price_per_day||0)*a;{let b=Math.ceil(a/7);return aC.price_per_week*b}},bf=a=>{let b=bc(),c=b?.days||0,d=a.daily_rent||0,e=a.weekly_rent||0,f=a.monthly_rent||0,g=a=>a.filter(Boolean).join(" • ");return b&&0!==c?c<7?{price:d||f,label:"/ day",secondary:g([e?"$"+e+" / week":"",f?"$"+f+" / month":""])}:c<28?{price:e||d,label:"/ week",secondary:g([d?"$"+d+" / day":"",f?"$"+f+" / month":""])}:{price:f||e||d,label:"/ month",secondary:g([d?"$"+d+" / day":"",e?"$"+e+" / week":""])}:{price:f||d,label:"/ month",secondary:g([d?"$"+d+" / day":"",e?"$"+e+" / week":""])}},bg=[...new Set(c.map(a=>a.colour).filter(Boolean))].sort(),bh=(()=>{let a=[...c];if(aa.trim()){let b=aa.toLowerCase();a=a.filter(a=>a.make&&a.make.toLowerCase().includes(b)||a.model&&a.model.toLowerCase().includes(b)||a.reg.toLowerCase().includes(b))}switch(a=a.filter(a=>{let b=a.daily_rent||0,c=a.weekly_rent||0,d=a.monthly_rent||0,e=b>=av.dailyPriceRange[0]&&b<=av.dailyPriceRange[1],f=c>=av.weeklyPriceRange[0]&&c<=av.weeklyPriceRange[1],g=d>=av.monthlyPriceRange[0]&&d<=av.monthlyPriceRange[1];return e&&f&&g}),av.colors&&(av.colors||[]).length>0&&(a=a.filter(a=>a.colour&&(av.colors||[]).includes(a.colour))),ae){case"price_low":a.sort((a,b)=>(a.monthly_rent||a.daily_rent||0)-(b.monthly_rent||b.daily_rent||0));break;case"price_high":a.sort((a,b)=>{let c=a.monthly_rent||a.daily_rent||0;return(b.monthly_rent||b.daily_rent||0)-c});break;case"seats_most":break;case"newest":a.sort((a,b)=>new Date(b.created_at).getTime()-new Date(a.created_at).getTime());break;default:a.sort((a,b)=>{let c=`${a.make||""} ${a.model||""}`.trim().toLowerCase(),d=`${b.make||""} ${b.model||""}`.trim().toLowerCase();return c.localeCompare(d)})}return a})(),bi=a=>{ad(a),localStorage.setItem("viewMode",a)},bj=()=>{ab(""),am([]),aw({transmission:[],fuel:[],seats:[2,7],dailyPriceRange:ap,weeklyPriceRange:ar,monthlyPriceRange:at,colors:[]}),ak("recommended")},bk=aa||al.length>0||"recommended"!==ae||(av.colors||[]).length>0,bl=c.find(a=>a.id===aA.vehicleId),bm=bl?bd(bl):null;(()=>{let a=c.find(a=>a.id===aA.vehicleId);if(!a)return;let b=0,d=0;if(aA.pickupDate&&aA.dropoffDate){let c=new Date(aA.pickupDate);if((d=Math.max(1,Math.ceil((new Date(aA.dropoffDate).getTime()-c.getTime())/864e5)))>=30){let c=Math.floor(d/30),e=d%30;b=c*(a.monthly_rent||0)+e*(a.daily_rent||0)}else if(d>=7){let c=Math.floor(d/7),e=d%7;b=c*(a.weekly_rent||0)+e*(a.daily_rent||0)}else b=d*(a.daily_rent||0)}h.reduce((a,b)=>{let c=f.find(a=>a.id===b);return a+(c?.price||0)},0)})();let bn=(a,b)=>{let c={};switch(a){case"pickupLocation":if(b.trim()){let a=b.trim();a.length<5?c.pickupLocation="Please enter a valid pickup address (minimum 5 characters)":/[a-zA-Z]{3,}/.test(a)?/^[@#$%^&*()_+=\-\[\]{};:'",.<>?\/\\|`~!]{3,}/.test(a)?c.pickupLocation="Please enter a valid pickup address, not symbols":/^[a-zA-Z]+$/.test(a)&&a.length<15?c.pickupLocation="Please enter a complete address (e.g., street name, city, postcode)":/[\d]/.test(a)||/[,]/.test(a)||!(a.split(" ").length<2)||(c.pickupLocation="Please enter a complete address with street name or postcode"):c.pickupLocation="Please enter a meaningful pickup address with letters"}else c.pickupLocation="Pickup location is required";break;case"dropoffLocation":if(b.trim()){let a=b.trim();a.length<5?c.dropoffLocation="Please enter a valid drop-off address (minimum 5 characters)":/[a-zA-Z]{3,}/.test(a)?/^[@#$%^&*()_+=\-\[\]{};:'",.<>?\/\\|`~!]{3,}/.test(a)?c.dropoffLocation="Please enter a valid drop-off address, not symbols":/^[a-zA-Z]+$/.test(a)&&a.length<15?c.dropoffLocation="Please enter a complete address (e.g., street name, city, postcode)":/[\d]/.test(a)||/[,]/.test(a)||!(a.split(" ").length<2)||(c.dropoffLocation="Please enter a complete address with street name or postcode"):c.dropoffLocation="Please enter a meaningful drop-off address with letters"}else c.dropoffLocation="Drop-off location is required";break;case"customerName":let d=b.trim();d?d.length<2?c.customerName="Full name must be at least 2 characters":/^[a-zA-Z\s\-']+$/.test(d)?/[a-zA-Z]{2,}/.test(d)?d.replace(/[\s\-']/g,"").length<2&&(c.customerName="Name must have actual alphabetic content"):c.customerName="Name must contain at least 2 alphabetic characters":c.customerName="Name must contain only letters, spaces, hyphens, and apostrophes":c.customerName="Full name is required";break;case"customerEmail":b.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(b)||(c.customerEmail="Please enter a valid email address"):c.customerEmail="Email address is required";break;case"customerPhone":let e=b.trim();if(e){let a=e.replace(/[\s\-()]/g,""),b=(a.match(/\d/g)||[]).length;b<7||b>15?c.customerPhone="Please enter a valid phone number (7-15 digits)":a.startsWith("+")&&!/^\+\d+$/.test(a)?c.customerPhone="Invalid phone number format":a.startsWith("+")||/^\d+$/.test(a.replace(/[\s\-()]/g,""))||(c.customerPhone="Phone number should contain only digits")}else c.customerPhone="Phone number is required";break;case"customerType":b&&""!==b.trim()?"Individual"!==b&&"Company"!==b&&(c.customerType="Invalid customer type selected"):c.customerType="Please select a customer type";break;case"driverAge":b&&""!==b.trim()?["under_25","25_70","over_70"].includes(b)||(c.driverAge="Please select a valid driver age range."):c.driverAge="Please select driver age range."}X(b=>({...b,[a]:c[a]||""}))},bp=()=>{if((()=>{let a={};return aA.vehicleId||(a.vehicleId="Please select a vehicle",aQ.oR.error("Please select a vehicle to continue")),X(a),0===Object.keys(a).length})()){if(window.gtag&&bl&&bm){let a=bl.make&&bl.model?`${bl.make} ${bl.model}`:bl.make||bl.model||bl.reg;window.gtag("event","continue_to_extras_clicked",{vehicle_id:aA.vehicleId,vehicle_name:a,est_total:bm.total})}let a=JSON.parse(localStorage.getItem("booking_context")||"{}");localStorage.setItem("booking_context",JSON.stringify({...a,vehicle_id:aA.vehicleId,viewMode:ac,filters:{search:aa,categories:al,sortBy:ae}})),b(3)}},bq=async()=>{console.log("\uD83D\uDE80 handleStep3Continue called"),console.log("\uD83D\uDD10 Current verification status:",aG),console.log("\uD83D\uDD18 Button disabled state:","verified"!==aG);let a=(()=>{console.log("\uD83D\uDD0D validateStep3 called"),console.log("\uD83D\uDCDD Current formData:",{customerName:aA.customerName,customerEmail:aA.customerEmail,customerPhone:aA.customerPhone,customerType:aA.customerType,licenseNumber:aA.licenseNumber}),console.log("\uD83D\uDD10 Verification status:",aG);let a={},b=aA.customerName.trim();b?b.length<2?a.customerName="Full name must be at least 2 characters":/^[a-zA-Z\s\-']+$/.test(b)?/[a-zA-Z]{2,}/.test(b)?b.replace(/[\s\-']/g,"").length<2&&(a.customerName="Name must have actual alphabetic content"):a.customerName="Name must contain at least 2 alphabetic characters":a.customerName="Name must contain only letters, spaces, hyphens, and apostrophes":a.customerName="Full name is required",aA.customerEmail.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(aA.customerEmail)||(a.customerEmail="Please enter a valid email address"):a.customerEmail="Email address is required";let c=aA.customerPhone.trim();if(c){let b=c.replace(/[\s\-()]/g,""),d=(b.match(/\d/g)||[]).length;d<7||d>15?a.customerPhone="Please enter a valid phone number (7-15 digits)":b.startsWith("+")&&!/^\+\d+$/.test(b)?a.customerPhone="Invalid phone number format":b.startsWith("+")||/^\d+$/.test(b.replace(/[\s\-()]/g,""))||(a.customerPhone="Phone number should contain only digits")}else a.customerPhone="Phone number is required";return aA.customerType&&""!==aA.customerType.trim()?"Individual"!==aA.customerType&&"Company"!==aA.customerType&&(a.customerType="Invalid customer type selected"):a.customerType="Please select a customer type",console.log("\uD83D\uDCCB All validation errors:",a),console.log("✅ Validation result:",0===Object.keys(a).length?"PASSED":"FAILED"),X(a),0===Object.keys(a).length})();if(console.log("✨ Validation returned:",a),!a)return void console.log("❌ Validation failed! Not moving to step 4");console.log("✅ Validation passed! Moving to step 4"),window.gtag&&window.gtag("event","booking_step3_submitted",{customer_type:aA.customerType,verification_status:aG}),b(4)};return m&&t?(0,d.jsx)(a4.A,{bookingDetails:t,onClose:()=>{n(!1),b(1),aB({pickupLocation:"",dropoffLocation:"",pickupDate:"",dropoffDate:"",pickupTime:"",dropoffTime:"",specialRequests:"",vehicleId:"",driverAge:"",promoCode:"",customerName:"",customerEmail:"",customerPhone:"",customerType:"",licenseNumber:""}),i([]),A(null),E(!1),H(!1)}}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("section",{className:"bk-hero",children:(0,d.jsxs)("div",{className:"bk-hero__inner",children:[(0,d.jsx)("h1",{className:"bk-hero__title",children:(()=>{let b=_.booking_header?.title||"Book Your Rental";switch(a){case 1:default:return b;case 2:return"Choose Vehicle";case 3:return"Your Details";case 4:return"Review & Confirm"}})()}),(0,d.jsx)("div",{className:"flex items-center justify-center mt-4",children:(0,d.jsx)("div",{className:"h-[1px] w-24 bg-gradient-to-r from-transparent via-primary to-transparent"})}),(0,d.jsx)("p",{className:"bk-hero__subtitle",children:_.booking_header?.subtitle||"Quick, easy, and affordable car rentals in Dallas — from pickup to drop-off, we've got you covered."}),(0,d.jsx)("p",{className:"bk-hero__meta",children:(_.booking_header?.trust_points||["Dallas–Fort Worth Area","Transparent Rates","24/7 Support"]).join(" \xb7 ")})]})}),(0,d.jsx)(y.Zp,{ref:R,className:"p-4 md:p-8 bg-card backdrop-blur-sm border-border shadow-[0_8px_30px_rgba(0,0,0,0.12)] dark:shadow-[0_8px_30px_rgba(0,0,0,0.4)]",children:(0,d.jsxs)("div",{className:"space-y-8 bk-steps",children:[(0,d.jsx)("div",{className:"w-full overflow-x-auto py-4",children:(0,d.jsx)("div",{className:"flex items-center justify-between relative min-w-[280px]",children:[{step:1,label:"Trip",fullLabel:"Trip Details"},{step:2,label:"Vehicle",fullLabel:"Choose Vehicle"},{step:3,label:"Details",fullLabel:"Customer Details"},{step:4,label:"Review",fullLabel:"Review & Confirm"}].map(({step:b,label:c,fullLabel:e},f)=>(0,d.jsxs)("div",{className:"flex flex-col items-center flex-1 relative z-10",children:[(0,d.jsx)("div",{className:(0,af.cn)("bk-step__node flex items-center justify-center w-10 h-10 sm:w-12 sm:h-12 md:w-14 md:h-14 rounded-full border-2 transition-all",a>=b?"bg-primary border-primary shadow-glow":"border-border bg-muted",a===b&&"bk-step__node--active shadow-glow"),"aria-label":`Step ${b} of 4: ${e}`,"aria-current":a===b?"step":void 0,children:a>b?(0,d.jsx)(aR.A,{className:"w-4 h-4 sm:w-5 sm:h-5 md:w-6 md:h-6 text-primary-foreground"}):(0,d.jsx)("span",{className:(0,af.cn)("text-base sm:text-lg md:text-xl font-bold",a===b?"text-primary-foreground":"text-muted-foreground"),children:b})}),(0,d.jsxs)("span",{className:`mt-1.5 sm:mt-2 text-[10px] sm:text-xs md:text-sm font-medium text-center leading-tight ${a>=b?"text-primary":"text-muted-foreground"}`,children:[(0,d.jsx)("span",{className:"hidden sm:inline",children:e}),(0,d.jsx)("span",{className:"sm:hidden",children:c})]}),f<3&&(0,d.jsx)("div",{className:(0,af.cn)("bk-step__line absolute top-5 sm:top-6 md:top-7 left-[calc(50%+20px)] sm:left-[calc(50%+24px)] md:left-[calc(50%+28px)] w-[calc(100%-40px)] sm:w-[calc(100%-48px)] md:w-[calc(100%-56px)] h-0.5",a>b?"bg-primary":"bg-border")})]},b))})}),1===a&&(0,d.jsxs)("div",{className:"space-y-8 animate-fade-in",children:[(0,d.jsx)("div",{children:(0,d.jsx)("h3",{className:"text-2xl md:text-3xl font-display font-semibold text-foreground pb-2 border-b-2 border-primary/30",children:"Rental Details"})}),(0,d.jsxs)("div",{className:"space-y-8",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(O.J,{htmlFor:"pickupLocation",className:"font-medium",children:"Pickup *"}),(0,d.jsx)(a8.A,{id:"pickupLocation",value:aA.pickupLocation,onChange:(a,b,c)=>{aB({...aA,pickupLocation:a}),aL({...aK,pickupLat:b||null,pickupLon:c||null}),bn("pickupLocation",a)},placeholder:"Enter pickup address",className:"h-12 focus-visible:ring-primary"}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Start typing a Dallas address or landmark"}),W.pickupLocation&&(0,d.jsx)("p",{className:"text-sm text-destructive",children:W.pickupLocation})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)(O.J,{htmlFor:"dropoffLocation",className:"font-medium",children:"Return *"}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(ag,{id:"sameAsPickup",checked:Y,onCheckedChange:a=>{Z(a),a||(aB(a=>({...a,dropoffLocation:""})),aL(a=>({...a,dropoffLat:null,dropoffLon:null})))},"aria-label":"Same as pickup location"}),(0,d.jsx)(O.J,{htmlFor:"sameAsPickup",className:"text-xs cursor-pointer font-normal",children:"Same as pickup"})]})]}),(0,d.jsx)(a8.A,{id:"dropoffLocation",value:aA.dropoffLocation,onChange:(a,b,c)=>{aB({...aA,dropoffLocation:a}),aL({...aK,dropoffLat:b||null,dropoffLon:c||null}),bn("dropoffLocation",a)},placeholder:"Enter return address",className:"h-12 focus-visible:ring-primary",disabled:Y}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Start typing a Dallas address or landmark"}),W.dropoffLocation&&(0,d.jsx)("p",{className:"text-sm text-destructive",children:W.dropoffLocation})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(O.J,{className:"font-medium",children:"Pickup *"}),(0,d.jsx)("span",{className:"text-xs text-muted-foreground px-2 py-0.5 bg-muted rounded",children:"PST/PDT"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,d.jsxs)(ai.AM,{children:[(0,d.jsx)(ai.Wv,{asChild:!0,children:(0,d.jsxs)(G.$,{variant:"outline",className:(0,af.cn)("w-full justify-start text-left font-normal h-12",!aA.pickupDate&&"text-muted-foreground"),children:[(0,d.jsx)(aS.A,{className:"mr-2 h-4 w-4"}),aA.pickupDate?(0,a1.GP)(new Date(aA.pickupDate),"MMM dd"):(0,d.jsx)("span",{children:"Date"})]})}),(0,d.jsx)(ai.hl,{className:"w-auto p-0",align:"start",children:(0,d.jsx)(ah.V,{mode:"single",selected:aA.pickupDate?new Date(aA.pickupDate):void 0,onSelect:a=>{if(a){let b=(0,a1.GP)(a,"yyyy-MM-dd");if(S.includes(b))return void aQ.oR.error("This date is not available for booking.");aB({...aA,pickupDate:b}),W.pickupDate&&X({...W,pickupDate:""})}},disabled:a=>{let b=(0,a1.GP)(a,"yyyy-MM-dd"),c=new Date(new Date().setHours(0,0,0,0)),d=new Date(c);return d.setFullYear(d.getFullYear()+1),a<c||a>d||S.includes(b)},initialFocus:!0,className:"pointer-events-auto"})})]}),(0,d.jsx)(aj,{id:"pickupTime",value:aA.pickupTime,onChange:a=>{aB({...aA,pickupTime:a}),W.pickupTime&&X({...W,pickupTime:""})},className:"h-12 focus-visible:ring-primary"})]}),W.pickupDate&&(0,d.jsx)("p",{className:"text-sm text-destructive",children:W.pickupDate}),W.pickupTime&&!W.pickupDate&&(0,d.jsx)("p",{className:"text-sm text-destructive",children:W.pickupTime})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(O.J,{className:"font-medium",children:"Return *"}),(0,d.jsx)("span",{className:"text-xs text-muted-foreground px-2 py-0.5 bg-muted rounded",children:"PST/PDT"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,d.jsxs)(ai.AM,{children:[(0,d.jsx)(ai.Wv,{asChild:!0,children:(0,d.jsxs)(G.$,{variant:"outline",className:(0,af.cn)("w-full justify-start text-left font-normal h-12",!aA.dropoffDate&&"text-muted-foreground"),children:[(0,d.jsx)(aS.A,{className:"mr-2 h-4 w-4"}),aA.dropoffDate?(0,a1.GP)(new Date(aA.dropoffDate),"MMM dd"):(0,d.jsx)("span",{children:"Date"})]})}),(0,d.jsx)(ai.hl,{className:"w-auto p-0",align:"start",children:(0,d.jsx)(ah.V,{mode:"single",selected:aA.dropoffDate?new Date(aA.dropoffDate):void 0,onSelect:a=>{if(a){let b=(0,a1.GP)(a,"yyyy-MM-dd");aB({...aA,dropoffDate:b}),W.dropoffDate&&X({...W,dropoffDate:""})}},disabled:a=>{let b=aA.pickupDate?new Date(aA.pickupDate):new Date,c=new Date(b);c.setFullYear(c.getFullYear()+1);let d=(0,a1.GP)(a,"yyyy-MM-dd");return a<=b||a>c||S.includes(d)},initialFocus:!0,className:"pointer-events-auto"})})]}),(0,d.jsx)(aj,{id:"dropoffTime",value:aA.dropoffTime,onChange:a=>{aB({...aA,dropoffTime:a}),W.dropoffTime&&X({...W,dropoffTime:""})},className:"h-12 focus-visible:ring-primary"})]}),W.dropoffDate&&(0,d.jsx)("p",{className:"text-sm text-destructive",children:W.dropoffDate}),W.dropoffTime&&!W.dropoffDate&&(0,d.jsx)("p",{className:"text-sm text-destructive",children:W.dropoffTime})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(O.J,{htmlFor:"driverAge",className:"font-medium",children:"Driver's Age *"}),(0,d.jsxs)(P.l6,{value:aA.driverAge,onValueChange:a=>{aB({...aA,driverAge:a}),bn("driverAge",a)},children:[(0,d.jsx)(P.bq,{id:"driverAge",className:"h-12 focus-visible:ring-primary",children:(0,d.jsx)(P.yv,{placeholder:"Select age range"})}),(0,d.jsxs)(P.gC,{position:"popper",sideOffset:4,children:[(0,d.jsx)(P.eb,{value:"under_25",children:"Under 25"}),(0,d.jsx)(P.eb,{value:"25_70",children:"25–70"}),(0,d.jsx)(P.eb,{value:"over_70",children:"70+"})]})]}),W.driverAge&&(0,d.jsx)("p",{className:"text-sm text-destructive",children:W.driverAge}),"under_25"===aA.driverAge&&(0,d.jsx)("p",{className:"text-xs text-primary",children:"Young Driver Fee will apply"})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(O.J,{htmlFor:"promoCode",className:"font-medium",children:"Promo Code"}),(0,d.jsx)(N.p,{id:"promoCode",value:aA.promoCode,onChange:a=>{let b=a.target.value.toUpperCase();aB({...aA,promoCode:b})},placeholder:"Enter promo code",className:"h-12 focus-visible:ring-primary",maxLength:20})]})]})]}),(0,d.jsxs)(G.$,{onClick:()=>{if((()=>{let a={};if(aA.pickupLocation.trim()){let b=aA.pickupLocation.trim();b.length<5?a.pickupLocation="Please enter a valid pickup address (minimum 5 characters)":/[a-zA-Z]{3,}/.test(b)?/^[@#$%^&*()_+=\-\[\]{};:'",.<>?\/\\|`~!]{3,}/.test(b)?a.pickupLocation="Please enter a valid pickup address, not symbols":/^[a-zA-Z]+$/.test(b)&&b.length<15?a.pickupLocation="Please enter a complete address (e.g., street name, city, postcode)":/[\d]/.test(b)||/[,]/.test(b)||!(b.split(" ").length<2)||(a.pickupLocation="Please enter a complete address with street name or postcode"):a.pickupLocation="Please enter a meaningful pickup address with letters"}else a.pickupLocation="Pickup location is required";if(aA.dropoffLocation.trim()){let b=aA.dropoffLocation.trim();b.length<5?a.dropoffLocation="Please enter a valid drop-off address (minimum 5 characters)":/[a-zA-Z]{3,}/.test(b)?/^[@#$%^&*()_+=\-\[\]{};:'",.<>?\/\\|`~!]{3,}/.test(b)?a.dropoffLocation="Please enter a valid drop-off address, not symbols":/^[a-zA-Z]+$/.test(b)&&b.length<15?a.dropoffLocation="Please enter a complete address (e.g., street name, city, postcode)":/[\d]/.test(b)||/[,]/.test(b)||!(b.split(" ").length<2)||(a.dropoffLocation="Please enter a complete address with street name or postcode"):a.dropoffLocation="Please enter a meaningful drop-off address with letters"}else a.dropoffLocation="Drop-off location is required";if(aA.pickupDate||(a.pickupDate="Please select a pickup location."),aA.pickupTime||(a.pickupTime="Please choose pickup and return date & time."),aA.dropoffDate||(a.dropoffDate="Please choose pickup and return date & time."),aA.dropoffTime||(a.dropoffTime="Please choose pickup and return date & time."),aA.pickupDate&&aA.dropoffDate&&aA.pickupTime&&aA.dropoffTime){let b=bc();b&&!b.isValid&&(b.hours<24?a.dropoffDate="Return must be at least 24 hours after pickup.":b.days>365&&(a.dropoffDate="Maximum rental period is 1 year."))}return aA.driverAge&&""!==aA.driverAge.trim()?["under_25","25_70","over_70"].includes(aA.driverAge)||(a.driverAge="Please select a valid driver age range."):a.driverAge="Please select driver age range.",X(a),0===Object.keys(a).length})()){let a={pickupLocation:aA.pickupLocation,dropoffLocation:aA.dropoffLocation,pickupDate:aA.pickupDate,pickupTime:aA.pickupTime,dropoffDate:aA.dropoffDate,dropoffTime:aA.dropoffTime,driverAge:aA.driverAge,promoCode:aA.promoCode,young_driver:"under_25"===aA.driverAge};localStorage.setItem("booking_context",JSON.stringify(a)),console.log("\uD83D\uDCDD Moving to Step 2 with formData:",aA),console.log("\uD83D\uDCDD Verification Session ID in formData:",aA.verificationSessionId);let c=bc();window.gtag&&window.gtag("event","booking_step1_submitted",{pickup_location:aA.pickupLocation,return_location:aA.dropoffLocation,rental_days:c?.days||0,driver_age:aA.driverAge,has_promo:!!aA.promoCode,young_driver:"under_25"===aA.driverAge}),b(2)}},className:"w-full h-12 bg-primary hover:bg-primary/90 text-primary-foreground font-semibold text-base shadow-md hover:shadow-lg transition-all",size:"lg",children:["Continue to Vehicle Selection ",(0,d.jsx)(aT.A,{className:"ml-2 w-5 h-5"})]})]}),2===a&&(0,d.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[(0,d.jsxs)(G.$,{onClick:()=>b(1),variant:"ghost",className:"text-primary hover:text-primary/80 -ml-2",children:[(0,d.jsx)(aU.A,{className:"mr-1 w-5 h-5"})," Back to Trip Details"]}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsx)("h3",{className:"text-3xl md:text-4xl font-display font-semibold text-foreground",children:"Select"}),(0,d.jsx)("p",{className:"text-muted-foreground text-base",children:"Choose from our curated fleet of premium rentals."}),aA.pickupDate&&aA.dropoffDate&&(0,d.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,d.jsx)(aS.A,{className:"w-4 h-4"}),(0,d.jsxs)("span",{children:[(0,a1.GP)(new Date(aA.pickupDate),"MMM dd")," → ",(0,a1.GP)(new Date(aA.dropoffDate),"MMM dd")]}),(0,d.jsx)("span",{children:"•"}),(0,d.jsx)("span",{children:aA.pickupLocation.split(",")[0]||"Selected location"}),(0,d.jsx)("span",{children:"•"}),(0,d.jsxs)("span",{children:[bc()?.days||0," ",1===(bc()?.days||0)?"day":"days"]})]})]}),(0,d.jsx)(y.Zp,{className:"p-4 bg-card/90 backdrop-blur-sm border-primary/15 shadow-lg",children:(0,d.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,d.jsxs)("div",{className:"relative flex-1",children:[(0,d.jsx)(aV,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,d.jsx)(N.p,{value:aa,onChange:a=>(a=>{ab(a),ax.current&&clearTimeout(ax.current),ax.current=setTimeout(()=>{window.gtag&&window.gtag("event","fleet_search_changed",{term:a})},250)})(a.target.value),placeholder:"Search cars…",className:"pl-10 h-10 bg-background focus-visible:ring-primary","aria-label":"Search vehicles"})]}),(0,d.jsxs)(P.l6,{value:ae,onValueChange:a=>{ak(a),window.gtag&&window.gtag("event","fleet_sort_changed",{sortKey:a})},children:[(0,d.jsx)(P.bq,{className:"w-full sm:w-[200px] h-10 focus-visible:ring-primary",children:(0,d.jsx)(P.yv,{placeholder:"Sort by"})}),(0,d.jsxs)(P.gC,{className:"bg-card border-primary/20",children:[(0,d.jsx)(P.eb,{value:"recommended",children:"Recommended"}),(0,d.jsx)(P.eb,{value:"price_low",children:"Price: Low → High"}),(0,d.jsx)(P.eb,{value:"price_high",children:"Price: High → Low"}),(0,d.jsx)(P.eb,{value:"seats_most",children:"Seats: Most → Fewest"}),(0,d.jsx)(P.eb,{value:"newest",children:"Newest Models"})]})]}),(0,d.jsxs)(ai.AM,{open:an,onOpenChange:ao,children:[(0,d.jsx)(ai.Wv,{asChild:!0,children:(0,d.jsxs)(G.$,{variant:"outline",className:"h-10 gap-2 border-primary/30 hover:bg-primary/10",children:[(0,d.jsx)(aW,{className:"w-4 h-4"}),"Filters",(av.colors||[]).length>0&&(0,d.jsx)(aP.E,{className:"ml-1 h-5 w-5 rounded-full p-0 bg-primary text-primary-foreground",children:(av.colors||[]).length})]})}),(0,d.jsx)(ai.hl,{className:"w-80 bg-card border-primary/20 p-4",align:"end",children:(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("h4",{className:"font-semibold",children:"Filters"}),(0,d.jsx)(G.$,{variant:"ghost",size:"sm",onClick:()=>{aw({transmission:[],fuel:[],seats:[2,7],dailyPriceRange:ap,weeklyPriceRange:ar,monthlyPriceRange:at,colors:[]})},children:"Reset"})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)(O.J,{className:"text-sm font-medium",children:["Daily: $",av.dailyPriceRange[0]," - $",av.dailyPriceRange[1]]}),(0,d.jsx)(aO,{value:av.dailyPriceRange,onValueChange:a=>aw(b=>({...b,dailyPriceRange:a})),min:ap[0],max:ap[1],step:5,className:"py-2"})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)(O.J,{className:"text-sm font-medium",children:["Weekly: $",av.weeklyPriceRange[0]," - $",av.weeklyPriceRange[1]]}),(0,d.jsx)(aO,{value:av.weeklyPriceRange,onValueChange:a=>aw(b=>({...b,weeklyPriceRange:a})),min:ar[0],max:ar[1],step:10,className:"py-2"})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)(O.J,{className:"text-sm font-medium",children:["Monthly: $",av.monthlyPriceRange[0]," - $",av.monthlyPriceRange[1]]}),(0,d.jsx)(aO,{value:av.monthlyPriceRange,onValueChange:a=>aw(b=>({...b,monthlyPriceRange:a})),min:at[0],max:at[1],step:20,className:"py-2"})]}),bg.length>0&&(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(O.J,{className:"text-sm font-medium",children:"Color"}),(0,d.jsx)("div",{className:"flex flex-wrap gap-2",children:bg.map(a=>(0,d.jsx)("button",{onClick:()=>aw(b=>({...b,colors:b.colors.includes(a)?b.colors.filter(b=>b!==a):[...b.colors,a]})),className:`px-3 py-1.5 text-xs font-medium rounded-full border transition-colors ${(av.colors||[]).includes(a)?"bg-primary text-primary-foreground border-primary":"bg-background border-border hover:border-primary/50"}`,children:a},a))})]})]})})]}),(0,d.jsxs)("div",{className:"flex gap-1 border border-primary/30 rounded-md p-1",children:[(0,d.jsx)(G.$,{variant:"ghost",size:"sm",className:(0,af.cn)("h-8 w-8 p-0","grid"===ac&&"bg-primary/20 text-primary"),onClick:()=>bi("grid"),"aria-label":"Grid view",children:(0,d.jsx)(aX,{className:"w-4 h-4"})}),(0,d.jsx)(G.$,{variant:"ghost",size:"sm",className:(0,af.cn)("h-8 w-8 p-0","list"===ac&&"bg-primary/20 text-primary"),onClick:()=>bi("list"),"aria-label":"List view",children:(0,d.jsx)(aY,{className:"w-4 h-4"})})]})]}),bk&&(0,d.jsxs)("div",{className:"flex flex-wrap items-center gap-2 pt-2 border-t border-border/50",children:[(0,d.jsx)("span",{className:"text-xs text-muted-foreground",children:"Active filters:"}),aa&&(0,d.jsxs)(aP.E,{variant:"secondary",className:"gap-1",children:["Search: ",aa,(0,d.jsx)(aZ.A,{className:"w-3 h-3 cursor-pointer",onClick:()=>ab("")})]}),al.map(a=>(0,d.jsxs)(aP.E,{variant:"secondary",className:"gap-1",children:[a,(0,d.jsx)(aZ.A,{className:"w-3 h-3 cursor-pointer",onClick:()=>(a=>{am(b=>b.includes(a)?b.filter(b=>b!==a):[...b,a]),window.gtag&&window.gtag("event","fleet_filter_changed",{filter:"category",value:a})})(a)})]},a)),"recommended"!==ae&&(0,d.jsxs)(aP.E,{variant:"secondary",className:"gap-1",children:[(a=>{switch(a){case"price_low":return"Price: Low → High";case"price_high":return"Price: High → Low";case"seats_most":return"Seats: Most → Fewest";case"newest":return"Newest Models";case"recommended":return"Recommended";default:return a}})(ae),(0,d.jsx)(aZ.A,{className:"w-3 h-3 cursor-pointer",onClick:()=>ak("recommended")})]}),(av.colors||[]).map(a=>(0,d.jsxs)(aP.E,{variant:"secondary",className:"gap-1",children:[a,(0,d.jsx)(aZ.A,{className:"w-3 h-3 cursor-pointer",onClick:()=>aw(b=>({...b,colors:b.colors.filter(b=>b!==a)}))})]},a)),(0,d.jsx)(G.$,{variant:"ghost",size:"sm",className:"h-6 text-xs text-primary hover:text-primary/80",onClick:bj,children:"Clear all"})]})]})}),W.vehicleId&&(0,d.jsx)("div",{className:"p-4 bg-destructive/10 border border-destructive/20 rounded-lg",children:(0,d.jsx)("p",{className:"text-sm text-destructive",children:W.vehicleId})}),(0,d.jsxs)("div",{className:"grid lg:grid-cols-4 gap-6",children:[(0,d.jsx)("div",{className:"lg:col-span-3",children:0===bh.length?(0,d.jsxs)(y.Zp,{className:"p-12 text-center bg-card/50",children:[(0,d.jsx)(p.A,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground opacity-40"}),(0,d.jsx)("p",{className:"text-lg font-medium text-foreground mb-2",children:"No vehicles match your filters"}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Try adjusting your dates or categories."}),(0,d.jsx)(G.$,{variant:"outline",onClick:bj,className:"border-primary/30",children:"Clear Filters"})]}):(0,d.jsx)("div",{className:(0,af.cn)("grid gap-6","grid"===ac?"grid-cols-1 md:grid-cols-2 lg:grid-cols-3":"grid-cols-1"),children:bh.map(a=>{(a=>{let b=(a.make||"").toLowerCase(),c=(a.model||"").toLowerCase(),d=`${b} ${c}`;return b.includes("rolls")||c.includes("phantom")?x.A:c.includes("s-class")||c.includes("s class")||d.includes("s class")||(c.includes("v-class")||c.includes("v class")||d.includes("transit"))&&j.A})(a);let b=a.make&&a.model?`${a.make} ${a.model}`:a.make||a.model||a.reg,c=(a.make||"").toLowerCase().includes("rolls")||(a.model||"").toLowerCase().includes("phantom"),e=aA.vehicleId===a.id,f=bd(a),g=(a=>{if(!aA.pickupDate||!aA.dropoffDate)return{blocked:!1};let b=new Date(aA.pickupDate),c=new Date(aA.dropoffDate);for(let d of U.filter(b=>b.vehicle_id===a)){let a=new Date(d.start_date);if(b<=new Date(d.end_date)&&c>=a)return{blocked:!0,blockedRange:{start:d.start_date,end:d.end_date}}}return{blocked:!1}})(a.id),h=g.blocked;return"list"===ac?(0,d.jsx)(y.Zp,{className:(0,af.cn)("group transition-all duration-300 overflow-hidden border-2 relative",h?"opacity-60 cursor-not-allowed border-destructive/30":"cursor-pointer hover:shadow-2xl",!h&&e?"border-primary bg-primary/5 shadow-glow":"border-border/30 hover:border-primary/40"),onClick:()=>{!h&&(aB({...aA,vehicleId:a.id}),W.vehicleId&&X({...W,vehicleId:""}),window.gtag&&window.gtag("event","vehicle_card_viewed",{vehicle_id:a.id}))},children:(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row",children:[(0,d.jsxs)("div",{className:"relative w-full sm:w-64 aspect-video sm:aspect-square overflow-hidden bg-gradient-to-br from-muted/30 to-muted/5",children:[a.vehicle_photos?.[0]?.photo_url?(0,d.jsx)("img",{src:a.vehicle_photos[0].photo_url,alt:b,className:"w-full h-full object-cover",loading:"lazy",onError:a=>{a.currentTarget.style.display="none";let b=a.currentTarget.nextElementSibling;b&&(b.style.display="flex")}}):null,(0,d.jsx)("div",{className:`${a.vehicle_photos?.[0]?.photo_url?"hidden":"flex"} items-center justify-center h-full w-full absolute inset-0`,children:(0,d.jsx)(p.A,{className:"w-16 h-16 opacity-20 text-muted-foreground"})}),e&&(0,d.jsx)("div",{className:"absolute top-3 right-3 px-3 py-1 bg-primary text-primary-foreground text-xs font-semibold rounded-full flex items-center justify-center",children:(0,d.jsx)(aR.A,{className:"w-4 h-4"})}),h&&g.blockedRange&&(0,d.jsxs)("div",{className:"absolute bottom-3 left-3 right-3 px-3 py-2 bg-destructive/90 text-white text-xs font-medium rounded-lg backdrop-blur",children:[(0,d.jsx)("p",{className:"font-semibold mb-1",children:"Unavailable"}),(0,d.jsxs)("p",{className:"text-[10px] opacity-90",children:[(0,a1.GP)(new Date(g.blockedRange.start),"MMM dd")," - ",(0,a1.GP)(new Date(g.blockedRange.end),"MMM dd")]})]})]}),(0,d.jsxs)("div",{className:"flex-1 p-6 flex flex-col justify-between",children:[(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsx)("div",{className:"flex items-start justify-between gap-4",children:(0,d.jsxs)("div",{children:[(0,d.jsxs)("h4",{className:"font-display text-2xl font-semibold text-foreground flex items-center justify-between w-full",children:[(0,d.jsxs)("span",{className:"flex items-center gap-2",children:[b,c&&(0,d.jsx)(x.A,{className:"w-5 h-5 text-primary"})]}),(0,d.jsx)("span",{className:"text-sm font-normal text-primary",children:a.reg})]}),a.colour&&(0,d.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:a.colour})]})}),a.description&&(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsx)("p",{className:"text-sm text-muted-foreground leading-relaxed",children:bb(a)}),a.description.length>120&&(0,d.jsx)("button",{onClick:b=>{b.stopPropagation(),ba(a.id)},className:"text-xs text-primary hover:text-primary/80 font-medium transition-colors",children:ay.has(a.id)?"Show less":"Show more"})]})]}),(0,d.jsxs)("div",{className:"flex items-end justify-between gap-4 mt-4",children:[(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,d.jsxs)("span",{className:"text-3xl font-bold text-primary",children:["$",bf(a).price]}),(0,d.jsx)("span",{className:"text-sm text-muted-foreground",children:bf(a).label})]}),bf(a).secondary&&(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:bf(a).secondary})]}),(0,d.jsx)(G.$,{className:(0,af.cn)("w-40 h-11 font-medium transition-colors",h?"bg-muted text-muted-foreground cursor-not-allowed":e?"bg-primary text-primary-foreground hover:bg-primary/90":"bg-background border-2 border-primary text-primary hover:bg-primary hover:text-primary-foreground"),disabled:h,onClick:b=>{!h&&(b.stopPropagation(),aB({...aA,vehicleId:a.id}),window.gtag&&window.gtag("event","vehicle_selected",{vehicle_id:a.id,est_total:f?.total||0}))},children:h?"Unavailable":e?"Selected":"Select"})]})]})]})},a.id):(0,d.jsxs)(y.Zp,{className:(0,af.cn)("group transition-all duration-300 overflow-hidden border-2 relative",h?"opacity-60 cursor-not-allowed border-destructive/30":"cursor-pointer hover:shadow-2xl hover:scale-[1.02]",!h&&e?"border-primary bg-primary/5 shadow-glow":"border-border/30 hover:border-primary/40",!h&&c&&"shadow-glow"),onClick:()=>{!h&&(aB({...aA,vehicleId:a.id}),W.vehicleId&&X({...W,vehicleId:""}),window.gtag&&window.gtag("event","vehicle_card_viewed",{vehicle_id:a.id}))},children:[e&&(0,d.jsx)("div",{className:"absolute top-3 right-3 z-20 w-6 h-6 bg-primary rounded-full flex items-center justify-center",children:(0,d.jsx)(aR.A,{className:"w-4 h-4 text-black"})}),(0,d.jsxs)("div",{className:(0,af.cn)("relative aspect-video overflow-hidden bg-gradient-to-br",c?"from-primary/10 to-primary/20":"from-muted/30 to-muted/5"),children:[a.vehicle_photos?.[0]?.photo_url?(0,d.jsx)("img",{src:a.vehicle_photos[0].photo_url,alt:b,className:"w-full h-full object-cover",loading:"lazy",onError:a=>{a.currentTarget.style.display="none";let b=a.currentTarget.nextElementSibling;b&&(b.style.display="flex")}}):null,(0,d.jsx)("div",{className:`${a.vehicle_photos?.[0]?.photo_url?"hidden":"flex"} flex-col items-center justify-center h-full w-full absolute inset-0`,children:(0,d.jsx)(p.A,{className:(0,af.cn)("w-16 h-16 mb-2 opacity-20",c?"text-primary":"text-muted-foreground")})}),h&&g.blockedRange&&(0,d.jsxs)("div",{className:"absolute bottom-3 left-3 right-3 px-3 py-2 bg-destructive/90 text-white text-xs font-medium rounded-lg backdrop-blur",children:[(0,d.jsx)("p",{className:"font-semibold mb-1",children:"Unavailable"}),(0,d.jsxs)("p",{className:"text-[10px] opacity-90",children:[(0,a1.GP)(new Date(g.blockedRange.start),"MMM dd")," - ",(0,a1.GP)(new Date(g.blockedRange.end),"MMM dd")]})]})]}),(0,d.jsxs)("div",{className:"p-6 space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("h4",{className:"font-display text-xl font-semibold text-foreground mb-1 flex items-center justify-between w-full",children:[(0,d.jsxs)("span",{className:"flex items-center gap-2",children:[b,c&&(0,d.jsx)(x.A,{className:"w-5 h-5 text-primary"})]}),(0,d.jsx)("span",{className:"text-xs font-normal text-primary",children:a.reg})]}),a.colour&&(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:a.colour})]}),a.description&&(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsx)("p",{className:"text-sm text-muted-foreground leading-relaxed",children:bb(a)}),a.description.length>120&&(0,d.jsx)("button",{onClick:b=>{b.stopPropagation(),ba(a.id)},className:"text-xs text-primary hover:text-primary/80 font-medium transition-colors",children:ay.has(a.id)?"Show less":"Show more"})]}),(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsxs)("div",{className:"flex items-baseline justify-between",children:[(0,d.jsxs)("span",{className:"text-2xl font-bold text-primary",children:["$",bf(a).price]}),(0,d.jsx)("span",{className:"text-sm text-muted-foreground",children:bf(a).label})]}),bf(a).secondary&&(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:bf(a).secondary})]}),(0,d.jsx)(G.$,{className:(0,af.cn)("w-full h-11 font-medium transition-colors",h?"bg-muted text-muted-foreground cursor-not-allowed":e?"bg-primary text-primary-foreground hover:bg-primary/90":"bg-background border-2 border-primary text-primary hover:bg-primary hover:text-primary-foreground"),disabled:h,onClick:b=>{!h&&(b.stopPropagation(),aB({...aA,vehicleId:a.id}),window.gtag&&window.gtag("event","vehicle_selected",{vehicle_id:a.id,est_total:f?.total||0}))},children:h?"Unavailable":e?"Selected":"Select"})]})]},a.id)})})}),(0,d.jsx)("div",{className:"hidden lg:block",children:(0,d.jsxs)(y.Zp,{className:"sticky top-24 p-6 bg-card border-primary/20 space-y-4",children:[(0,d.jsx)("h4",{className:"font-display text-xl font-semibold",children:"Your Trip"}),(0,d.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-muted-foreground text-xs uppercase tracking-wide mb-1",children:"Pickup"}),(0,d.jsx)("p",{className:"font-medium",children:aA.pickupDate?(0,a1.GP)(new Date(aA.pickupDate),"MMM dd, yyyy"):"—"}),(0,d.jsx)("p",{className:"text-muted-foreground text-xs",children:aA.pickupTime||"—"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-muted-foreground text-xs uppercase tracking-wide mb-1",children:"Return"}),(0,d.jsx)("p",{className:"font-medium",children:aA.dropoffDate?(0,a1.GP)(new Date(aA.dropoffDate),"MMM dd, yyyy"):"—"}),(0,d.jsx)("p",{className:"text-muted-foreground text-xs",children:aA.dropoffTime||"—"})]}),(0,d.jsxs)("div",{className:"pt-3 border-t border-border/50",children:[(0,d.jsx)("p",{className:"text-muted-foreground text-xs uppercase tracking-wide mb-1",children:"Duration"}),(0,d.jsx)("p",{className:"font-semibold text-lg",children:bc()?.formatted||"—"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-muted-foreground text-xs uppercase tracking-wide mb-1",children:"Location"}),(0,d.jsx)("p",{className:"font-medium text-xs",children:aA.pickupLocation.split(",").slice(0,2).join(",")||"—"})]})]}),bl&&bm&&(0,d.jsxs)("div",{className:"pt-4 border-t border-border/50 space-y-3",children:[(0,d.jsxs)("div",{className:"flex justify-between items-start",children:[(0,d.jsxs)("div",{className:"flex gap-3 flex-1 min-w-0",children:[(0,d.jsx)("div",{className:"w-12 h-12 rounded-md overflow-hidden bg-muted flex-shrink-0 relative",children:bl.vehicle_photos?.[0]?.photo_url?(0,d.jsx)("img",{src:bl.vehicle_photos[0].photo_url,alt:bl.make&&bl.model?`${bl.make} ${bl.model}`:bl.reg,className:"w-full h-full object-cover",loading:"lazy"}):(0,d.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,d.jsx)(p.A,{className:"w-5 h-5 text-muted-foreground opacity-30"})})}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("p",{className:"font-medium text-sm truncate",children:bl.make&&bl.model?`${bl.make} ${bl.model}`:bl.reg}),(0,d.jsxs)("p",{className:"text-xs text-muted-foreground",children:[bm.days," ",1===bm.days?"day":"days"]})]})]}),(0,d.jsxs)("p",{className:"font-semibold text-sm",children:["$",bm.total.toFixed(0)]})]}),aC&&(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(o.A,{className:"w-4 h-4 text-primary"}),(0,d.jsx)("span",{className:"text-sm",children:aC.display_name||aC.name})]}),(0,d.jsxs)("p",{className:"font-semibold text-sm",children:["$",be().toFixed(0)]})]}),(0,d.jsxs)("div",{className:"pt-3 border-t border-border/50 flex justify-between items-center",children:[(0,d.jsx)("p",{className:"font-semibold",children:"Total"}),(0,d.jsxs)("p",{className:"text-xl font-bold text-primary",children:["$",(bm.total+be()).toFixed(0)]})]})]}),!bl&&(0,d.jsx)("div",{className:"pt-4 border-t border-border/50",children:(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Pricing shown per day; total calculated at checkout."})}),(0,d.jsxs)(G.$,{onClick:bp,disabled:!aA.vehicleId,className:"w-full h-11 bg-primary hover:bg-primary/90 text-primary-foreground font-semibold shadow-md hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",size:"lg",children:["Review & Pay ",(0,d.jsx)(aT.A,{className:"ml-2 w-5 h-5"})]})]})})]}),aA.vehicleId&&bc()&&(0,d.jsx)("div",{className:"mt-8",ref:Q,children:(0,d.jsx)(by,{selectedPlanId:aA.protectionPlanId,onSelectPlan:(a,b)=>{aB({...aA,protectionPlanId:a}),aD(b)},rentalDays:bc()?.days||1})}),(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 lg:hidden mt-8",children:[(0,d.jsxs)(G.$,{onClick:()=>b(1),variant:"outline",className:"w-full sm:flex-1 border-primary text-primary hover:bg-primary/10",size:"lg",children:[(0,d.jsx)(aU.A,{className:"mr-2 w-5 h-5"})," Back"]}),(0,d.jsxs)(G.$,{onClick:bp,disabled:!aA.vehicleId,className:"w-full sm:flex-1 bg-primary hover:bg-primary/90 text-primary-foreground font-semibold shadow-md hover:shadow-lg transition-all disabled:opacity-50",size:"lg",children:["Review & Pay ",(0,d.jsx)(aT.A,{className:"ml-2 w-5 h-5"})]})]})]}),3===a&&(0,d.jsxs)("div",{className:"space-y-8 animate-fade-in",children:[(0,d.jsx)("div",{children:(0,d.jsx)("h3",{className:"text-2xl md:text-3xl font-display font-semibold text-foreground pb-2 border-b-2 border-primary/30",children:"Your Details"})}),(0,d.jsxs)("div",{className:"space-y-8",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(O.J,{htmlFor:"customerName",className:"font-medium",children:"Full Name *"}),(0,d.jsx)(N.p,{id:"customerName",value:aA.customerName,onChange:a=>{let b=a.target.value;aB({...aA,customerName:b}),bn("customerName",b)},placeholder:"Enter your full name",className:"h-12 focus-visible:ring-primary"}),W.customerName&&(0,d.jsx)("p",{className:"text-sm text-destructive",children:W.customerName})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(O.J,{htmlFor:"customerEmail",className:"font-medium",children:"Email Address *"}),(0,d.jsx)(N.p,{id:"customerEmail",type:"email",value:aA.customerEmail,onChange:a=>{let b=a.target.value;aB({...aA,customerEmail:b}),bn("customerEmail",b)},placeholder:"your@email.com",className:"h-12 focus-visible:ring-primary"}),W.customerEmail&&(0,d.jsx)("p",{className:"text-sm text-destructive",children:W.customerEmail})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(O.J,{htmlFor:"customerPhone",className:"font-medium",children:"Phone Number *"}),(0,d.jsx)(N.p,{id:"customerPhone",type:"tel",value:aA.customerPhone,onChange:a=>{let b=a.target.value;aB({...aA,customerPhone:b}),bn("customerPhone",b)},placeholder:"+1 (555) 123-4567",className:"h-12 focus-visible:ring-primary"}),W.customerPhone&&(0,d.jsx)("p",{className:"text-sm text-destructive",children:W.customerPhone})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(O.J,{htmlFor:"customerType",className:"font-medium",children:"Customer Type *"}),(0,d.jsxs)(P.l6,{value:aA.customerType,onValueChange:a=>{aB({...aA,customerType:a}),bn("customerType",a)},children:[(0,d.jsx)(P.bq,{id:"customerType",className:"h-12 focus-visible:ring-primary",children:(0,d.jsx)(P.yv,{placeholder:"Select customer type"})}),(0,d.jsxs)(P.gC,{position:"popper",sideOffset:4,children:[(0,d.jsx)(P.eb,{value:"Individual",children:"Individual"}),(0,d.jsx)(P.eb,{value:"Company",children:"Company"})]})]}),W.customerType&&(0,d.jsx)("p",{className:"text-sm text-destructive",children:W.customerType})]})]}),(0,d.jsxs)("div",{className:"border-t border-border/50 pt-6 sm:pt-8",children:[(0,d.jsxs)("h4",{className:"text-base sm:text-lg font-semibold mb-2 flex items-center gap-2",children:["Identity Verification ",(0,d.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,d.jsxs)("p",{className:"text-xs sm:text-sm text-muted-foreground mb-4",children:[(0,d.jsx)("strong",{children:"Required:"})," To ensure security and compliance, all customers must complete identity verification before proceeding with their rental."]}),"init"===aG&&(0,d.jsx)("div",{className:"bg-destructive/10 border border-destructive/20 rounded-lg p-3 sm:p-4",children:(0,d.jsxs)("div",{className:"flex items-start gap-2 sm:gap-3",children:[(0,d.jsx)(a$.A,{className:"w-5 h-5 text-destructive mt-0.5 flex-shrink-0"}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("p",{className:"text-sm font-medium mb-2 text-destructive",children:"Verification Required"}),(0,d.jsxs)("p",{className:"text-xs sm:text-sm text-muted-foreground mb-4",children:[(0,d.jsx)("strong",{children:"You must verify your identity to continue."})," Please fill in your details above, then click the button below to start the verification process."]}),(0,d.jsx)(G.$,{onClick:a6,disabled:aI||!aA.customerName||!aA.customerEmail||!aA.customerPhone,variant:"outline",className:"border-accent text-accent hover:bg-accent hover:text-white w-full sm:w-auto text-sm",size:"sm",children:aI?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin mr-2"}),(0,d.jsx)("span",{className:"truncate",children:"Starting..."})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(a_.A,{className:"w-4 h-4 mr-2 flex-shrink-0"}),(0,d.jsx)("span",{children:"Start Identity Verification"})]})})]})]})}),"pending"===aG&&(0,d.jsx)("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-lg p-3 sm:p-4",children:(0,d.jsxs)("div",{className:"flex items-start gap-2 sm:gap-3",children:[(0,d.jsx)(q.A,{className:"w-5 h-5 text-yellow-500 mt-0.5 flex-shrink-0"}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("p",{className:"text-sm font-medium mb-2 text-yellow-600 dark:text-yellow-500",children:"Verification Pending"}),(0,d.jsx)("p",{className:"text-xs sm:text-sm text-muted-foreground mb-2",children:"Your identity verification is in progress. Please complete the verification in the popup window."}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground mb-3",children:"Once verified, you can proceed with your booking. This may take a few moments."}),(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,d.jsx)(G.$,{onClick:a6,disabled:aI,variant:"outline",className:"border-yellow-500 text-yellow-600 hover:bg-yellow-500 hover:text-white w-full sm:w-auto",size:"sm",children:aI?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin mr-2"}),(0,d.jsx)("span",{children:"Starting..."})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(a0,{className:"w-4 h-4 mr-2 flex-shrink-0"}),(0,d.jsx)("span",{children:"Reopen Verification"})]})}),(0,d.jsxs)(G.$,{onClick:a5,variant:"ghost",className:"text-muted-foreground hover:text-destructive hover:bg-destructive/10 w-full sm:w-auto",size:"sm",children:[(0,d.jsx)(aZ.A,{className:"w-4 h-4 mr-2 flex-shrink-0"}),"Cancel & Start Over"]})]})]})]})}),"verified"===aG&&(0,d.jsx)("div",{className:"bg-green-500/10 border border-green-500/20 rounded-lg p-3 sm:p-4",children:(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[(0,d.jsxs)("div",{className:"flex items-start gap-2 sm:gap-3 flex-1",children:[(0,d.jsx)(u.A,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("p",{className:"text-sm font-medium mb-1 text-green-600 dark:text-green-500",children:"Verified"}),(0,d.jsx)("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Your identity has been successfully verified. You can proceed with your booking."})]})]}),(0,d.jsxs)(G.$,{onClick:a5,variant:"ghost",size:"sm",className:"text-destructive hover:text-destructive hover:bg-destructive/10 flex-shrink-0 self-start sm:self-auto ml-7 sm:ml-0",title:"Clear verification to verify again",children:[(0,d.jsx)(aZ.A,{className:"w-4 h-4 mr-1"}),"Clear"]})]})}),"rejected"===aG&&(0,d.jsx)("div",{className:"bg-destructive/10 border border-destructive/20 rounded-lg p-3 sm:p-4",children:(0,d.jsxs)("div",{className:"flex items-start gap-2 sm:gap-3",children:[(0,d.jsx)(aZ.A,{className:"w-5 h-5 text-destructive mt-0.5 flex-shrink-0"}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("p",{className:"text-sm font-medium mb-2 text-destructive",children:"Verification Failed"}),(0,d.jsx)("p",{className:"text-xs sm:text-sm text-muted-foreground mb-3",children:"Your identity verification was not successful. Please try again or contact support."}),(0,d.jsxs)(G.$,{onClick:a6,disabled:aI,variant:"outline",className:"border-accent text-accent hover:bg-accent hover:text-white w-full sm:w-auto",size:"sm",children:[(0,d.jsx)(a_.A,{className:"w-4 h-4 mr-2 flex-shrink-0"}),"Retry Verification"]})]})]})}),W.verification&&(0,d.jsx)("p",{className:"text-sm text-destructive mt-3 font-medium",children:W.verification})]})]}),(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[(0,d.jsxs)(G.$,{onClick:()=>b(2),variant:"outline",className:"w-full sm:flex-1 h-11 sm:h-12 border-primary text-primary hover:bg-primary/10 font-semibold text-sm sm:text-base",size:"lg",children:[(0,d.jsx)(aU.A,{className:"mr-2 w-4 h-4 sm:w-5 sm:h-5"})," Back"]}),(0,d.jsxs)(G.$,{onClick:bq,disabled:"verified"!==aG,className:"w-full sm:flex-1 h-11 sm:h-12 bg-primary hover:bg-primary/90 text-primary-foreground font-semibold text-sm sm:text-base shadow-md hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",size:"lg",children:[(0,d.jsx)("span",{className:"sm:hidden",children:"Continue"}),(0,d.jsx)("span",{className:"hidden sm:inline",children:"Continue to Review"}),(0,d.jsx)(aT.A,{className:"ml-2 w-4 h-4 sm:w-5 sm:h-5"})]})]}),"verified"!==aG&&(0,d.jsx)("p",{className:"text-xs sm:text-sm text-destructive text-center mt-2",children:"Please complete identity verification to continue"})]}),4===a&&(0,d.jsx)("div",{className:"animate-fade-in",children:(0,d.jsx)(bo,{formData:aA,selectedVehicle:bl,extras:f,rentalDuration:bc()||{days:1,formatted:"1 day"},vehicleTotal:bm?.total||0,selectedProtectionPlan:aC,onBack:()=>b(3)})}),(0,d.jsx)(a7,{open:I,onOpenChange:a=>{J(a),a||M.current||H(!1),a||(M.current=!1)},customerName:aA.customerName,customerEmail:aA.customerEmail,customerPhone:aA.customerPhone,bookingDetails:`${aA.pickupLocation} → ${aA.dropoffLocation} on ${aA.pickupDate} at ${aA.pickupTime}`,fullBookingData:{pickupLocation:aA.pickupLocation,dropoffLocation:aA.dropoffLocation,pickupDate:aA.pickupDate,pickupTime:aA.pickupTime,vehicleName:(()=>{let a=c.find(a=>a.id===aA.vehicleId);return a?a.make&&a.model?`${a.make} ${a.model}`:a.make||a.model||a.reg:"Not selected"})()},onSubmit:a=>{L(a),H(!0),M.current=!0}})]})})]})};var bA=c(95523);function bB(){let[a,b]=(0,B.useState)({avgRating:"5.0",count:"0"}),{data:c}=(0,z.y)("home"),e=(0,z.TP)(c,z.Sz),{settings:h}=(0,H.y)(),i=h.phone.replace(/[^\d+]/g,""),j={"@context":"https://schema.org","@type":"LocalBusiness",name:"Drive 917",description:"Premium luxury car rentals in the UK",telephone:"+44-800-123-4567",address:{"@type":"PostalAddress",addressLocality:"London",addressCountry:"UK"},priceRange:"$$$",aggregateRating:{"@type":"AggregateRating",ratingValue:a.avgRating,reviewCount:a.count}};return(0,d.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,d.jsx)(F.A,{title:e.seo?.title||"Premium Luxury Car Rentals",description:e.seo?.description||"Rent premium luxury vehicles with Drive917. Flexible daily, weekly, and monthly rates. Top-tier fleet and exceptional service.",keywords:e.seo?.keywords||"luxury car rental, premium vehicle hire, exotic car rental, Dallas car rental",schema:j}),(0,d.jsx)(g.A,{}),(0,d.jsx)("section",{className:"relative min-h-screen ",children:(0,d.jsx)(bA.A,{images:["/carousel-images/car1.jpeg","/carousel-images/car2.jpeg","/carousel-images/car3.jpeg","/carousel-images/car4.jpeg","/carousel-images/car9.jpeg"],autoPlayInterval:5e3,overlayStrength:"medium",showScrollIndicator:!0,className:"min-h-screen",children:(0,d.jsxs)("div",{className:"flex items-center justify-center min-h-screen",children:[(0,d.jsx)("div",{className:"container mx-auto px-4",children:(0,d.jsxs)("div",{className:"max-w-4xl mx-auto text-center space-y-8 animate-fade-in",children:[(0,d.jsx)("h1",{className:"text-5xl sm:text-6xl md:text-7xl lg:text-8xl font-display font-bold text-white leading-tight",children:e.home_hero?.headline||"Reliable Car Rentals You Can Count On"}),(0,d.jsx)("p",{className:"text-lg md:text-xl lg:text-2xl text-white/90 max-w-3xl mx-auto font-light leading-relaxed",children:e.home_hero?.subheading||"Quality vehicles. Transparent pricing. Exceptional service."}),(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center pt-4",children:[(0,d.jsx)("a",{href:`tel:${i}`,children:(0,d.jsxs)(G.$,{size:"lg",className:"bg-primary hover:bg-primary/90 text-primary-foreground font-semibold text-base md:text-lg px-8 py-6 rounded-md shadow-glow hover:shadow-glow transition-all",children:[(0,d.jsx)(r.A,{className:"w-5 h-5 mr-2"}),`Call ${h.phone_display}`]})}),(0,d.jsx)("a",{href:"#booking",children:(0,d.jsx)(G.$,{size:"lg",variant:"outline",className:"bg-transparent border-2 border-white text-white hover:bg-white/10 hover:border-white font-semibold text-base md:text-lg px-8 py-6 rounded-md transition-all",children:e.home_hero?.book_cta_text||"Book Now"})})]}),(0,d.jsx)("p",{className:"text-sm md:text-base text-white/80 font-medium pt-4",children:e.home_hero?.trust_line||"Premium Fleet • Flexible Rates • 24/7 Support"})]})}),e.promo_badge?.enabled!==!1&&(0,d.jsx)("a",{href:"#booking",className:"absolute bottom-12 right-8 md:bottom-16 md:right-16 z-20 group cursor-pointer animate-fade-in",style:{animationDelay:"0.5s"},children:(0,d.jsxs)("div",{className:"relative w-28 h-28 md:w-36 md:h-36 rounded-full bg-primary flex flex-col items-center justify-center shadow-glow group-hover:shadow-glow transition-all duration-300 group-hover:scale-105",children:[(0,d.jsx)("span",{className:"text-2xl md:text-3xl font-bold text-primary-foreground leading-none",children:e.promo_badge?.discount_amount||"20%"}),(0,d.jsx)("span",{className:"text-xl md:text-2xl font-bold text-primary-foreground leading-none",children:e.promo_badge?.discount_label||"OFF"}),(0,d.jsx)("span",{className:"text-[9px] md:text-[10px] font-semibold text-primary-foreground/80 mt-1 uppercase tracking-wide",children:e.promo_badge?.line1||"When You Book"}),(0,d.jsx)("span",{className:"text-[9px] md:text-[10px] font-semibold text-primary-foreground/80 uppercase tracking-wide",children:e.promo_badge?.line2||"Online"})]})})]})})}),(0,d.jsx)(A,{}),(0,d.jsx)("section",{id:"booking",className:"py-20 bg-muted/20",children:(0,d.jsx)("div",{className:"container mx-auto px-4",children:(0,d.jsx)(bz,{})})}),(0,d.jsx)(D,{}),(0,d.jsx)("section",{className:"py-24 md:py-28 lg:py-32 bg-gradient-to-b from-muted/20 to-muted/30 relative overflow-hidden",children:(0,d.jsx)("div",{className:"container mx-auto px-4 text-center relative z-10",children:(0,d.jsxs)("div",{className:"animate-fade-in",children:[(0,d.jsxs)("div",{className:"text-center space-y-4 mb-8",children:[(0,d.jsx)("h2",{className:"text-4xl md:text-5xl font-display font-bold text-foreground",children:e.home_cta?.title||"Ready to Book Your Dallas Rental?"}),(0,d.jsx)("div",{className:"flex items-center justify-center",children:(0,d.jsx)("div",{className:"h-[1px] w-24 bg-gradient-to-r from-transparent via-primary to-transparent"})})]}),(0,d.jsx)("p",{className:"text-xl text-foreground/80 max-w-3xl mx-auto leading-relaxed text-center",children:e.home_cta?.description||"Quick, easy, and affordable car rentals across Dallas and the DFW area. Friendly service, transparent pricing, and clean vehicles every time."}),(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row gap-6 justify-center items-center pt-4",children:[(0,d.jsx)("a",{href:"#booking",children:(0,d.jsx)(G.$,{size:"lg",className:"bg-primary hover:bg-primary/90 text-primary-foreground shadow-md hover:shadow-lg transition-all text-lg px-10 py-7 font-semibold min-w-[200px]",children:e.home_cta?.primary_cta_text||"Book Now"})}),(0,d.jsx)(f(),{href:"/contact",children:(0,d.jsx)(G.$,{size:"lg",variant:"outline",className:"border-2 border-foreground text-foreground hover:bg-foreground hover:text-background text-lg px-10 py-7 font-semibold min-w-[200px] transition-all",children:e.home_cta?.secondary_cta_text||"Get in Touch"})})]}),(0,d.jsx)("div",{className:"pt-6 flex items-center justify-center gap-4 text-sm text-muted-foreground flex-wrap",children:(e.home_cta?.trust_points||["Reliable Service","Clean Vehicles","24/7 Support"]).map((a,b)=>(0,d.jsxs)("span",{className:"flex items-center gap-2",children:[(0,d.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),a]},b))})]})})}),(0,d.jsx)(M,{}),(0,d.jsx)(E.A,{}),(0,d.jsx)(I,{}),(0,d.jsx)(K,{})]})}},10578:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(23339).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},10846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12385:(a,b,c)=>{Promise.resolve().then(c.bind(c,8329))},19121:a=>{"use strict";a.exports=require("next/dist/server/app-render/action-async-storage.external.js")},26713:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/is-bot")},28354:a=>{"use strict";a.exports=require("util")},29294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30087:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(23339).A)("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]])},30733:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(23339).A)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},33873:a=>{"use strict";a.exports=require("path")},40068:(a,b,c)=>{"use strict";c.d(b,{Cf:()=>l,L3:()=>n,c7:()=>m,lG:()=>i,rr:()=>o});var d=c(21124),e=c(38301),f=c(39641),g=c(47089),h=c(44943);let i=f.bL;f.l9;let j=f.ZL;f.bm;let k=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.hJ,{ref:c,className:(0,h.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...b}));k.displayName=f.hJ.displayName;let l=e.forwardRef(({className:a,children:b,...c},e)=>(0,d.jsxs)(j,{children:[(0,d.jsx)(k,{}),(0,d.jsxs)(f.UC,{ref:e,className:(0,h.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...c,children:[b,(0,d.jsxs)(f.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[(0,d.jsx)(g.A,{className:"h-4 w-4"}),(0,d.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));l.displayName=f.UC.displayName;let m=({className:a,...b})=>(0,d.jsx)("div",{className:(0,h.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...b});m.displayName="DialogHeader";let n=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.hE,{ref:c,className:(0,h.cn)("text-lg font-semibold leading-none tracking-tight",a),...b}));n.displayName=f.hE.displayName;let o=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.VY,{ref:c,className:(0,h.cn)("text-sm text-muted-foreground",a),...b}));o.displayName=f.VY.displayName},41025:a=>{"use strict";a.exports=require("next/dist/server/app-render/dynamic-access-async-storage.external.js")},42768:(a,b,c)=>{"use strict";c.r(b),c.d(b,{GlobalError:()=>D.a,__next_app__:()=>J,handler:()=>L,pages:()=>I,routeModule:()=>K,tree:()=>H});var d=c(49754),e=c(9117),f=c(46595),g=c(32324),h=c(39326),i=c(38928),j=c(20175),k=c(12),l=c(54290),m=c(12696),n=c(82802),o=c(77533),p=c(45229),q=c(32822),r=c(261),s=c(26453),t=c(52474),u=c(26713),v=c(51356),w=c(62685),x=c(36225),y=c(63446),z=c(2762),A=c(45742),B=c(86439),C=c(81170),D=c.n(C),E=c(62506),F=c(91203),G={};for(let a in E)0>["default","tree","pages","GlobalError","__next_app__","routeModule","handler"].indexOf(a)&&(G[a]=()=>E[a]);c.d(b,G);let H=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(c.bind(c,60967)),"D:\\drive-917\\Drive917-client\\src\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(c.bind(c,11232)),"D:\\drive-917\\Drive917-client\\src\\app\\layout.tsx"],"global-error":[()=>Promise.resolve().then(c.t.bind(c,81170,23)),"next/dist/client/components/builtin/global-error.js"],"not-found":[()=>Promise.resolve().then(c.t.bind(c,87028,23)),"next/dist/client/components/builtin/not-found.js"],forbidden:[()=>Promise.resolve().then(c.t.bind(c,90461,23)),"next/dist/client/components/builtin/forbidden.js"],unauthorized:[()=>Promise.resolve().then(c.t.bind(c,32768,23)),"next/dist/client/components/builtin/unauthorized.js"]}],I=["D:\\drive-917\\Drive917-client\\src\\app\\page.tsx"],J={require:c,loadChunk:()=>Promise.resolve()},K=new d.AppPageRouteModule({definition:{kind:e.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:H},distDir:".next",relativeProjectDir:""});async function L(a,b,d){var C;let G="/page";"/index"===G&&(G="/");let M=(0,h.getRequestMeta)(a,"postponed"),N=(0,h.getRequestMeta)(a,"minimalMode"),O=await K.prepare(a,b,{srcPage:G,multiZoneDraftMode:!1});if(!O)return b.statusCode=400,b.end("Bad Request"),null==d.waitUntil||d.waitUntil.call(d,Promise.resolve()),null;let{buildId:P,query:Q,params:R,parsedUrl:S,pageIsDynamic:T,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,serverActionsManifest:X,clientReferenceManifest:Y,subresourceIntegrityManifest:Z,prerenderManifest:$,isDraftMode:_,resolvedPathname:aa,revalidateOnlyGenerated:ab,routerServerContext:ac,nextConfig:ad,interceptionRoutePatterns:ae}=O,af=S.pathname||"/",ag=(0,r.normalizeAppPath)(G),{isOnDemandRevalidate:ah}=O,ai=K.match(af,$),aj=!!$.routes[aa],ak=!!(ai||aj||$.routes[ag]),al=a.headers["user-agent"]||"",am=(0,u.getBotType)(al),an=(0,p.isHtmlBotRequest)(a),ao=(0,h.getRequestMeta)(a,"isPrefetchRSCRequest")??"1"===a.headers[t.NEXT_ROUTER_PREFETCH_HEADER],ap=(0,h.getRequestMeta)(a,"isRSCRequest")??!!a.headers[t.RSC_HEADER],aq=(0,s.getIsPossibleServerAction)(a),ar=(0,m.checkIsAppPPREnabled)(ad.experimental.ppr)&&(null==(C=$.routes[ag]??$.dynamicRoutes[ag])?void 0:C.renderingMode)==="PARTIALLY_STATIC",as=!1,at=!1,au=ar?M:void 0,av=ar&&ap&&!ao,aw=(0,h.getRequestMeta)(a,"segmentPrefetchRSCRequest"),ax=!al||(0,p.shouldServeStreamingMetadata)(al,ad.htmlLimitedBots);an&&ar&&(ak=!1,ax=!1);let ay=!0===K.isDev||!ak||"string"==typeof M||av,az=an&&ar,aA=null;_||!ak||ay||aq||au||av||(aA=aa);let aB=aA;!aB&&K.isDev&&(aB=aa),K.isDev||_||!ak||!ap||av||(0,k.d)(a.headers);let aC={...E,tree:H,pages:I,GlobalError:D(),handler:L,routeModule:K,__next_app__:J};X&&Y&&(0,o.setReferenceManifestsSingleton)({page:G,clientReferenceManifest:Y,serverActionsManifest:X,serverModuleMap:(0,q.createServerModuleMap)({serverActionsManifest:X})});let aD=a.method||"GET",aE=(0,g.getTracer)(),aF=aE.getActiveScopeSpan();try{let f=K.getVaryHeader(aa,ae);b.setHeader("Vary",f);let k=async(c,d)=>{let e=new l.NodeNextRequest(a),f=new l.NodeNextResponse(b);return K.render(e,f,d).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=aE.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==i.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${aD} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${aD} ${a.url}`)})},m=async({span:e,postponed:f,fallbackRouteParams:g})=>{let i={query:Q,params:R,page:ag,sharedContext:{buildId:P},serverComponentsHmrCache:(0,h.getRequestMeta)(a,"serverComponentsHmrCache"),fallbackRouteParams:g,renderOpts:{App:()=>null,Document:()=>null,pageConfig:{},ComponentMod:aC,Component:(0,j.T)(aC),params:R,routeModule:K,page:G,postponed:f,shouldWaitOnAllReady:az,serveStreamingMetadata:ax,supportsDynamicResponse:"string"==typeof f||ay,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,subresourceIntegrityManifest:Z,serverActionsManifest:X,clientReferenceManifest:Y,setIsrStatus:null==ac?void 0:ac.setIsrStatus,dir:c(33873).join(process.cwd(),K.relativeProjectDir),isDraftMode:_,isRevalidate:ak&&!f&&!av,botType:am,isOnDemandRevalidate:ah,isPossibleServerAction:aq,assetPrefix:ad.assetPrefix,nextConfigOutput:ad.output,crossOrigin:ad.crossOrigin,trailingSlash:ad.trailingSlash,previewProps:$.preview,deploymentId:ad.deploymentId,enableTainting:ad.experimental.taint,htmlLimitedBots:ad.htmlLimitedBots,devtoolSegmentExplorer:ad.experimental.devtoolSegmentExplorer,reactMaxHeadersLength:ad.reactMaxHeadersLength,multiZoneDraftMode:!1,incrementalCache:(0,h.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:ad.experimental.cacheLife,basePath:ad.basePath,serverActions:ad.experimental.serverActions,...as?{nextExport:!0,supportsDynamicResponse:!1,isStaticGeneration:!0,isRevalidate:!0,isDebugDynamicAccesses:as}:{},experimental:{isRoutePPREnabled:ar,expireTime:ad.expireTime,staleTimes:ad.experimental.staleTimes,cacheComponents:!!ad.experimental.cacheComponents,clientSegmentCache:!!ad.experimental.clientSegmentCache,clientParamParsing:!!ad.experimental.clientParamParsing,dynamicOnHover:!!ad.experimental.dynamicOnHover,inlineCss:!!ad.experimental.inlineCss,authInterrupts:!!ad.experimental.authInterrupts,clientTraceMetadata:ad.experimental.clientTraceMetadata||[]},waitUntil:d.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:()=>{},onInstrumentationRequestError:(b,c,d)=>K.onRequestError(a,b,d,ac),err:(0,h.getRequestMeta)(a,"invokeError"),dev:K.isDev}},l=await k(e,i),{metadata:m}=l,{cacheControl:n,headers:o={},fetchTags:p}=m;if(p&&(o[y.NEXT_CACHE_TAGS_HEADER]=p),a.fetchMetrics=m.fetchMetrics,ak&&(null==n?void 0:n.revalidate)===0&&!K.isDev&&!ar){let a=m.staticBailoutInfo,b=Object.defineProperty(Error(`Page changed from static to dynamic at runtime ${aa}${(null==a?void 0:a.description)?`, reason: ${a.description}`:""}
see more here https://nextjs.org/docs/messages/app-static-to-dynamic-error`),"__NEXT_ERROR_CODE",{value:"E132",enumerable:!1,configurable:!0});if(null==a?void 0:a.stack){let c=a.stack;b.stack=b.message+c.substring(c.indexOf("\n"))}throw b}return{value:{kind:v.CachedRouteKind.APP_PAGE,html:l,headers:o,rscData:m.flightData,postponed:m.postponed,status:m.statusCode,segmentData:m.segmentData},cacheControl:n}},o=async({hasResolved:c,previousCacheEntry:f,isRevalidating:g,span:i})=>{let j,k=!1===K.isDev,l=c||b.writableEnded;if(ah&&ab&&!f&&!N)return(null==ac?void 0:ac.render404)?await ac.render404(a,b):(b.statusCode=404,b.end("This page could not be found")),null;if(ai&&(j=(0,w.parseFallbackField)(ai.fallback)),j===w.FallbackMode.PRERENDER&&(0,u.isBot)(al)&&(!ar||an)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),(null==f?void 0:f.isStale)===-1&&(ah=!0),ah&&(j!==w.FallbackMode.NOT_FOUND||f)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),!N&&j!==w.FallbackMode.BLOCKING_STATIC_RENDER&&aB&&!l&&!_&&T&&(k||!aj)){let b;if((k||ai)&&j===w.FallbackMode.NOT_FOUND)throw new B.NoFallbackError;if(ar&&!ap){let c="string"==typeof(null==ai?void 0:ai.fallback)?ai.fallback:k?ag:null;if(b=await K.handleResponse({cacheKey:c,req:a,nextConfig:ad,routeKind:e.RouteKind.APP_PAGE,isFallback:!0,prerenderManifest:$,isRoutePPREnabled:ar,responseGenerator:async()=>m({span:i,postponed:void 0,fallbackRouteParams:k||at?(0,n.u)(ag):null}),waitUntil:d.waitUntil}),null===b)return null;if(b)return delete b.cacheControl,b}}let o=ah||g||!au?void 0:au;if(as&&void 0!==o)return{cacheControl:{revalidate:1,expire:void 0},value:{kind:v.CachedRouteKind.PAGES,html:x.default.EMPTY,pageData:{},headers:void 0,status:void 0}};let p=T&&ar&&((0,h.getRequestMeta)(a,"renderFallbackShell")||at)?(0,n.u)(af):null;return m({span:i,postponed:o,fallbackRouteParams:p})},p=async c=>{var f,g,i,j,k;let l,n=await K.handleResponse({cacheKey:aA,responseGenerator:a=>o({span:c,...a}),routeKind:e.RouteKind.APP_PAGE,isOnDemandRevalidate:ah,isRoutePPREnabled:ar,req:a,nextConfig:ad,prerenderManifest:$,waitUntil:d.waitUntil});if(_&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate"),K.isDev&&b.setHeader("Cache-Control","no-store, must-revalidate"),!n){if(aA)throw Object.defineProperty(Error("invariant: cache entry required but not generated"),"__NEXT_ERROR_CODE",{value:"E62",enumerable:!1,configurable:!0});return null}if((null==(f=n.value)?void 0:f.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant app-page handler received invalid cache entry ${null==(i=n.value)?void 0:i.kind}`),"__NEXT_ERROR_CODE",{value:"E707",enumerable:!1,configurable:!0});let p="string"==typeof n.value.postponed;ak&&!av&&(!p||ao)&&(N||b.setHeader("x-nextjs-cache",ah?"REVALIDATED":n.isMiss?"MISS":n.isStale?"STALE":"HIT"),b.setHeader(t.NEXT_IS_PRERENDER_HEADER,"1"));let{value:q}=n;if(au)l={revalidate:0,expire:void 0};else if(N&&ap&&!ao&&ar)l={revalidate:0,expire:void 0};else if(!K.isDev)if(_)l={revalidate:0,expire:void 0};else if(ak){if(n.cacheControl)if("number"==typeof n.cacheControl.revalidate){if(n.cacheControl.revalidate<1)throw Object.defineProperty(Error(`Invalid revalidate configuration provided: ${n.cacheControl.revalidate} < 1`),"__NEXT_ERROR_CODE",{value:"E22",enumerable:!1,configurable:!0});l={revalidate:n.cacheControl.revalidate,expire:(null==(j=n.cacheControl)?void 0:j.expire)??ad.expireTime}}else l={revalidate:y.CACHE_ONE_YEAR,expire:void 0}}else b.getHeader("Cache-Control")||(l={revalidate:0,expire:void 0});if(n.cacheControl=l,"string"==typeof aw&&(null==q?void 0:q.kind)===v.CachedRouteKind.APP_PAGE&&q.segmentData){b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"2");let c=null==(k=q.headers)?void 0:k[y.NEXT_CACHE_TAGS_HEADER];N&&ak&&c&&"string"==typeof c&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,c);let d=q.segmentData.get(aw);return void 0!==d?(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(d,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl}):(b.statusCode=204,(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.EMPTY,cacheControl:n.cacheControl}))}let r=(0,h.getRequestMeta)(a,"onCacheEntry");if(r&&await r({...n,value:{...n.value,kind:"PAGE"}},{url:(0,h.getRequestMeta)(a,"initURL")}))return null;if(p&&au)throw Object.defineProperty(Error("Invariant: postponed state should not be present on a resume request"),"__NEXT_ERROR_CODE",{value:"E396",enumerable:!1,configurable:!0});if(q.headers){let a={...q.headers};for(let[c,d]of(N&&ak||delete a[y.NEXT_CACHE_TAGS_HEADER],Object.entries(a)))if(void 0!==d)if(Array.isArray(d))for(let a of d)b.appendHeader(c,a);else"number"==typeof d&&(d=d.toString()),b.appendHeader(c,d)}let s=null==(g=q.headers)?void 0:g[y.NEXT_CACHE_TAGS_HEADER];if(N&&ak&&s&&"string"==typeof s&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,s),!q.status||ap&&ar||(b.statusCode=q.status),!N&&q.status&&F.RedirectStatusCode[q.status]&&ap&&(b.statusCode=200),p&&b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"1"),ap&&!_){if(void 0===q.rscData){if(q.postponed)throw Object.defineProperty(Error("Invariant: Expected postponed to be undefined"),"__NEXT_ERROR_CODE",{value:"E372",enumerable:!1,configurable:!0});return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:q.html,cacheControl:av?{revalidate:0,expire:void 0}:n.cacheControl})}return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(q.rscData,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl})}let u=q.html;if(!p||N||ap)return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:n.cacheControl});if(as)return u.push(new ReadableStream({start(a){a.enqueue(z.ENCODED_TAGS.CLOSED.BODY_AND_HTML),a.close()}})),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}});let w=new TransformStream;return u.push(w.readable),m({span:c,postponed:q.postponed,fallbackRouteParams:null}).then(async a=>{var b,c;if(!a)throw Object.defineProperty(Error("Invariant: expected a result to be returned"),"__NEXT_ERROR_CODE",{value:"E463",enumerable:!1,configurable:!0});if((null==(b=a.value)?void 0:b.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant: expected a page response, got ${null==(c=a.value)?void 0:c.kind}`),"__NEXT_ERROR_CODE",{value:"E305",enumerable:!1,configurable:!0});await a.value.html.pipeTo(w.writable)}).catch(a=>{w.writable.abort(a).catch(a=>{console.error("couldn't abort transformer",a)})}),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}})};if(!aF)return await aE.withPropagatedContext(a.headers,()=>aE.trace(i.BaseServerSpan.handleRequest,{spanName:`${aD} ${a.url}`,kind:g.SpanKind.SERVER,attributes:{"http.method":aD,"http.target":a.url}},p));await p(aF)}catch(b){throw b instanceof B.NoFallbackError||await K.onRequestError(a,b,{routerKind:"App Router",routePath:G,routeType:"render",revalidateReason:(0,f.c)({isRevalidate:ak,isOnDemandRevalidate:ah})},ac),b}}},45992:function(a,b,c){var d;"undefined"!=typeof self&&self,d=c(38301),a.exports=function(){"use strict";var a={155:function(a){a.exports=d}},b={};function c(d){var e=b[d];if(void 0!==e)return e.exports;var f=b[d]={exports:{}};return a[d](f,f.exports,c),f.exports}c.d=function(a,b){for(var d in b)c.o(b,d)&&!c.o(a,d)&&Object.defineProperty(a,d,{enumerable:!0,get:b[d]})},c.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},c.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var e={};c.r(e),c.d(e,{useReactToPrint:function(){return m}});var f=c(155);let g="printWindow";function h({level:a="error",messages:b,suppressErrors:c=!1}){c||("error"===a?console.error(b):"warning"===a?console.warn(b):console.debug(b))}function i(a,b){if(b||!a){let a=document.getElementById(g);a&&document.body.removeChild(a)}}function j(a){return a instanceof Error?a:Error("Unknown Error")}function k(a,b){let{documentTitle:c,onAfterPrint:d,onPrintError:e,preserveAfterPrint:f,print:g,suppressErrors:k}=b;setTimeout(()=>{var b,l;if(a.contentWindow){function m(){null==d||d(),i(f)}if(a.contentWindow.focus(),g)g(a).then(m).catch(a=>{e?e("print",j(a)):h({messages:["An error was thrown by the specified `print` function"],suppressErrors:k})});else{if(a.contentWindow.print){let d=null!=(l=null==(b=a.contentDocument)?void 0:b.title)?l:"",e=a.ownerDocument.title;c&&(a.ownerDocument.title=c,a.contentDocument&&(a.contentDocument.title=c)),a.contentWindow.print(),c&&(a.ownerDocument.title=e,a.contentDocument&&(a.contentDocument.title=d))}else h({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:k});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(a=>{var b,c;return(null!=(c=null!=(b=navigator.userAgent)?b:navigator.vendor)?c:"opera"in window&&window.opera).match(a)})?setTimeout(m,500):m()}}else h({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:k})},500)}function l(a){let b=[],c=document.createTreeWalker(a,NodeFilter.SHOW_ELEMENT,null),d=c.nextNode();for(;d;)b.push(d),d=c.nextNode();return b}function m({bodyClass:a,contentRef:b,copyShadowRoots:c,documentTitle:d,fonts:e,ignoreGlobalStyles:m,nonce:n,onAfterPrint:o,onBeforePrint:p,onPrintError:q,pageStyle:r,preserveAfterPrint:s,print:t,printIframeProps:u,suppressErrors:v}){return(0,f.useCallback)(f=>{function w(){let i={bodyClass:a,contentRef:b,copyShadowRoots:c,documentTitle:d,fonts:e,ignoreGlobalStyles:m,nonce:n,onAfterPrint:o,onBeforePrint:p,onPrintError:q,pageStyle:r,preserveAfterPrint:s,print:t,printIframeProps:u,suppressErrors:v},w=function(a){let b=document.createElement("iframe");return b.width=`${document.documentElement.clientWidth}px`,b.height=`${document.documentElement.clientHeight}px`,b.style.position="absolute",b.style.top=`-${document.documentElement.clientHeight+100}px`,b.style.left=`-${document.documentElement.clientWidth+100}px`,b.id=g,b.srcdoc="<!DOCTYPE html>",a&&(a.allow&&(b.allow=a.allow),void 0!==a.referrerPolicy&&(b.referrerPolicy=a.referrerPolicy),void 0!==a.sandbox&&(b.sandbox=a.sandbox)),b}(u),x=function(a,b){let{contentRef:c,fonts:d,ignoreGlobalStyles:e,suppressErrors:f}=b,g=function({contentRef:a,optionalContent:b,suppressErrors:c}){return b&&"function"==typeof b?(a&&h({level:"warning",messages:['"react-to-print" received a `contentRef` option and an optional-content param passed to its callback. The `contentRef` option will be ignored.']}),b()):a?a.current:void h({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:c})}({contentRef:c,optionalContent:a,suppressErrors:f});if(!g)return;let i=g.cloneNode(!0),j=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),k=i.querySelectorAll("img"),l=i.querySelectorAll("video"),m=d?d.length:0;return{contentNode:g,clonedContentNode:i,clonedImgNodes:k,clonedVideoNodes:l,numResourcesToLoad:(e?0:j.length)+k.length+l.length+m,originalCanvasNodes:g.querySelectorAll("canvas")}}(f,i);if(!x)return void h({messages:["There is nothing to print"],suppressErrors:v});let y=function(a,b,c){let{suppressErrors:d}=a,e=[],f=[];return function(g,i){e.includes(g)?h({level:"debug",messages:["Tried to mark a resource that has already been handled",g],suppressErrors:d}):(i?(h({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...i],suppressErrors:d}),f.push(g)):e.push(g),e.length+f.length===b&&k(c,a))}}(i,x.numResourcesToLoad,w);w.onload=()=>{!function(a,b,c,d){var e,f,g,i,m;let{contentNode:n,clonedContentNode:o,clonedImgNodes:p,clonedVideoNodes:q,numResourcesToLoad:r,originalCanvasNodes:s}=c,{bodyClass:t,fonts:u,ignoreGlobalStyles:v,pageStyle:w,nonce:x,suppressErrors:y,copyShadowRoots:z}=d;a.onload=null;let A=null!=(e=a.contentDocument)?e:null==(f=a.contentWindow)?void 0:f.document;if(A){let c=A.body.appendChild(o);z&&function a(b,c,d){let e=l(b),f=l(c);if(e.length===f.length)for(let b=0;b<e.length;b++){let c=e[b],g=f[b],h=c.shadowRoot;if(null!==h){let b=g.attachShadow({mode:h.mode});b.innerHTML=h.innerHTML,a(h,b,d)}}else h({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",b,c],suppressErrors:d})}(n,c,!!y),u&&((null==(g=a.contentDocument)?void 0:g.fonts)&&(null==(i=a.contentWindow)?void 0:i.FontFace)?u.forEach(c=>{let d=new FontFace(c.family,c.source,{weight:c.weight,style:c.style});a.contentDocument.fonts.add(d),d.loaded.then(()=>{b(d)}).catch(a=>{b(d,["Failed loading the font:",d,"Load error:",j(a)])})}):(u.forEach(a=>{b(a)}),h({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:y})));let d=A.createElement("style");x&&(d.setAttribute("nonce",x),A.head.setAttribute("nonce",x)),d.appendChild(A.createTextNode(null!=w?w:'\n    @page {\n        /* Remove browser default header (title) and footer (url) */\n        margin: 0;\n    }\n    @media print {\n        body {\n            /* Tell browsers to print background colors */\n            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */\n            print-color-adjust: exact; /* Firefox/Safari */\n            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */\n        }\n    }\n')),A.head.appendChild(d),t&&A.body.classList.add(...t.split(" "));let e=A.querySelectorAll("canvas");for(let a=0;a<s.length;++a){let b=s[a],c=e[a];if(void 0===c){h({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",b],suppressErrors:y});continue}let d=c.getContext("2d");d&&d.drawImage(b,0,0)}for(let a=0;a<p.length;a++){let c=p[a],d=c.getAttribute("src");if(d){let a=new Image;a.onload=()=>{b(c)},a.onerror=(a,d,e,f,g)=>{b(c,["Error loading <img>",c,"Error",g])},a.src=d}else b(c,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',c])}for(let a=0;a<q.length;a++){let c=q[a];c.preload="auto";let d=c.getAttribute("poster");if(d){let a=new Image;a.onload=()=>{b(c)},a.onerror=(a,e,f,g,h)=>{b(c,["Error loading video poster",d,"for video",c,"Error:",h])},a.src=d}else c.readyState>=2?b(c):c.src?(c.onloadeddata=()=>{b(c)},c.onerror=(a,d,e,f,g)=>{b(c,["Error loading video",c,"Error",g])},c.onstalled=()=>{b(c,["Loading video stalled, skipping",c])}):b(c,["Error loading video, `src` is empty",c])}let f="select",k=n.querySelectorAll(f),r=A.querySelectorAll(f);for(let a=0;a<k.length;a++)r[a].value=k[a].value;if(!v){let a=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let c=0,d=a.length;c<d;++c){let d=a[c];if("style"===d.tagName.toLowerCase()){let a=A.createElement(d.tagName),b=d.sheet;if(b){let e="";try{let a=b.cssRules.length;for(let c=0;c<a;++c)"string"==typeof b.cssRules[c].cssText&&(e+=`${b.cssRules[c].cssText}\r
`)}catch(a){h({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",d,`Original error: ${j(a).message}`],level:"warning"})}a.setAttribute("id",`react-to-print-${c}`),x&&a.setAttribute("nonce",x),a.appendChild(A.createTextNode(e)),A.head.appendChild(a)}}else if(d.getAttribute("href"))if(d.hasAttribute("disabled"))h({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",d],level:"warning"}),b(d);else{let a=A.createElement(d.tagName);for(let b=0,c=d.attributes.length;b<c;++b){let c=d.attributes[b];c&&a.setAttribute(c.nodeName,null!=(m=c.nodeValue)?m:"")}a.onload=()=>{b(a)},a.onerror=(c,d,e,f,g)=>{b(a,["Failed to load",a,"Error:",g])},x&&a.setAttribute("nonce",x),A.head.appendChild(a)}else h({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",d],level:"warning"}),b(d)}}}0===r&&k(a,d)}(w,y,x,i)},document.body.appendChild(w)}i(s,!0),p?p().then(()=>{w()}).catch(a=>{null==q||q("onBeforePrint",j(a))}):w()},[a,b,c,d,e,m,n,o,p,q,r,s,t,v])}return e}()},49269:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(23339).A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},58620:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(23339).A)("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]])},59268:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(23339).A)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},60967:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\drive-917\\\\Drive917-client\\\\src\\\\app\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\drive-917\\Drive917-client\\src\\app\\page.tsx","default")},63033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},65893:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(23339).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},66391:(a,b,c)=>{"use strict";c.d(b,{A:()=>h});var d=c(21124),e=c(62186),f=c(35284),g=c(59268);let h=({bookingDetails:a,onClose:b})=>(0,d.jsxs)(e.Zp,{className:"p-8 shadow-metal bg-card/50 backdrop-blur max-w-2xl mx-auto",children:[(0,d.jsxs)("div",{className:"text-center mb-6",children:[(0,d.jsx)(g.A,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),(0,d.jsx)("h2",{className:"text-3xl font-display font-bold text-gradient-metal mb-2",children:"Booking Confirmed!"}),(0,d.jsx)("p",{className:"text-muted-foreground",children:"Your booking request has been submitted successfully"})]}),(0,d.jsxs)("div",{className:"space-y-4 bg-secondary/30 p-6 rounded-lg mb-6",children:[(0,d.jsx)("h3",{className:"font-semibold text-lg mb-3",children:"Booking Summary"}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:"Pickup Location"}),(0,d.jsx)("p",{className:"font-medium",children:a.pickupLocation})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:"Drop-off Location"}),(0,d.jsx)("p",{className:"font-medium",children:a.dropoffLocation})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:"Date & Time"}),(0,d.jsxs)("p",{className:"font-medium",children:[a.pickupDate," at ",a.pickupTime]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:"Vehicle"}),(0,d.jsx)("p",{className:"font-medium",children:a.vehicleName})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:"Customer Name"}),(0,d.jsx)("p",{className:"font-medium",children:a.customerName})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:"Email"}),(0,d.jsx)("p",{className:"font-medium",children:a.customerEmail})]})]}),(0,d.jsxs)("div",{className:"pt-4 border-t border-border flex justify-between items-center",children:[(0,d.jsx)("span",{className:"text-lg font-semibold",children:"Total Price:"}),(0,d.jsxs)("span",{className:"text-3xl font-display font-bold text-accent",children:["$",a.totalPrice]})]})]}),(0,d.jsxs)("div",{className:"space-y-3 text-sm text-muted-foreground",children:[(0,d.jsxs)("p",{children:["✓ A confirmation email has been sent to ",a.customerEmail]}),(0,d.jsx)("p",{children:"✓ Our team will contact you shortly to confirm the details"}),(0,d.jsx)("p",{children:"✓ You will receive payment instructions before your journey"})]}),(0,d.jsx)(f.$,{onClick:b,className:"w-full mt-6 gradient-accent shadow-glow",size:"lg",children:"Book Another Journey"})]})},68254:(a,b,c)=>{"use strict";c.d(b,{T:()=>g});var d=c(21124),e=c(38301),f=c(44943);let g=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("textarea",{className:(0,f.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:c,...b}));g.displayName="Textarea"},68324:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(23339).A)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},69596:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(23339).A)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},75219:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(23339).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},78953:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(23339).A)("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]])},86439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")},95523:(a,b,c)=>{"use strict";c.d(b,{A:()=>f});var d=c(21124),e=c(38301);let f=({images:a,autoPlayInterval:b=3e3,children:c,className:f="",overlayStrength:g="medium",showScrollIndicator:h=!1})=>{let[i,j]=(0,e.useState)(0),[k,l]=(0,e.useState)(!0),m={light:"bg-gradient-to-b from-black/40 via-black/30 to-black/60",medium:"bg-gradient-to-b from-black/50 via-black/40 to-black/70",strong:"bg-gradient-to-b from-black/60 via-black/50 to-black/80"},n=(0,e.useCallback)(()=>{j(b=>b===a.length-1?0:b+1)},[a.length]),o=(0,e.useCallback)(()=>{j(b=>0===b?a.length-1:b-1)},[a.length]);return(0,e.useEffect)(()=>{if(!k)return;let a=setInterval(()=>{n()},b);return()=>clearInterval(a)},[k,b,n]),(0,e.useEffect)(()=>{let a=a=>{"ArrowLeft"===a.key?(o(),l(!1)):"ArrowRight"===a.key&&(n(),l(!1))};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[n,o]),(0,d.jsxs)("div",{className:`relative w-full h-full overflow-hidden ${f}`,children:[(0,d.jsx)("div",{className:"absolute inset-0 z-0",children:a.map((a,b)=>(0,d.jsxs)("div",{className:`absolute inset-0 transition-opacity duration-1000 ease-in-out ${b===i?"opacity-100":"opacity-0"}`,children:[(0,d.jsx)("img",{src:a,alt:`Slide ${b+1}`,className:`w-full h-full object-cover transform transition-transform duration-[7000ms] ease-out ${b===i?"scale-105":"scale-100"}`,loading:0===b?"eager":"lazy",decoding:"async",fetchPriority:0===b?"high":"auto",style:{imageRendering:"-webkit-optimize-contrast",backfaceVisibility:"hidden",transform:"translateZ(0)"}}),(0,d.jsx)("div",{className:`absolute inset-0 ${m[g]}`})]},b))}),c&&(0,d.jsx)("div",{className:"relative z-10 h-full",children:c}),(0,d.jsx)("div",{className:"absolute bottom-8 left-0 right-0 z-20 flex items-center justify-center gap-2",children:a.map((a,b)=>(0,d.jsx)("button",{onClick:()=>{j(b),l(!1),setTimeout(()=>l(!0),1e4)},className:`transition-all duration-300 ${b===i?"w-6 h-2 bg-accent rounded-full":"w-2 h-2 bg-white/60 hover:bg-white/80 rounded-full"}`,"aria-label":`Go to slide ${b+1}`,"aria-current":b===i},b))}),h&&(0,d.jsx)("div",{className:"absolute bottom-24 left-1/2 -translate-x-1/2 z-20 animate-bounce",children:(0,d.jsx)("div",{className:"w-6 h-10 border-2 border-white/50 rounded-full flex justify-center",children:(0,d.jsx)("div",{className:"w-1 h-3 bg-white rounded-full mt-2"})})})]})}},96274:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(23339).A)("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]])},99187:(a,b,c)=>{"use strict";c.d(b,{E:()=>i});var d=c(21124),e=c(38301),f=c(26691),g=c(44943);let h=(0,f.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}}),i=e.forwardRef(({className:a,variant:b,...c},e)=>(0,d.jsx)("div",{ref:e,className:(0,g.cn)(h({variant:b}),a),...c}));i.displayName="Badge"},99233:(a,b,c)=>{Promise.resolve().then(c.bind(c,60967))}};var b=require("../webpack-runtime.js");b.C(a);var c=b.X(0,[840,919,526,884,82,564,975,560,343],()=>b(b.s=42768));module.exports=c})();