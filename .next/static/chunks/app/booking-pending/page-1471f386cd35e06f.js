(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5460],{1873:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},3664:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},4947:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]])},5299:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},6485:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},6633:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>k});var a=s(5155),r=s(2115),l=s(63),n=s(2619),c=s.n(n),i=s(3947),d=s(8455),o=s(5299),m=s(6983),x=s(4947),h=s(6485),u=s(3664),p=s(9141),f=s(3998),y=s(9156),g=s(8720),j=s(5282);let b=()=>{var e;let t=(0,l.useSearchParams)(),[s,n]=(0,r.useState)(null),[b,k]=(0,r.useState)(!0);null==t||t.get("session_id");let N=null==t?void 0:t.get("rental_id");return(0,r.useEffect)(()=>{(async()=>{if(!N)return k(!1);try{let{data:e,error:t}=await y.N.from("rentals").select("\n            *,\n            customer:customers(*),\n            vehicle:vehicles(*)\n          ").eq("id",N).single();if(t)console.error("Failed to fetch rental details:",t),g.oR.error("Unable to load booking details. Please contact support.");else if(e){let t=e.vehicle.make&&e.vehicle.model?"".concat(e.vehicle.make," ").concat(e.vehicle.model):e.vehicle.reg;n({rental_id:e.id,booking_ref:e.id.substring(0,8).toUpperCase(),customer_name:e.customer.name,customer_email:e.customer.email,vehicle_name:t,vehicle_reg:e.vehicle.reg,pickup_date:(0,j.GP)(new Date(e.start_date),"MMM dd, yyyy"),return_date:(0,j.GP)(new Date(e.end_date),"MMM dd, yyyy"),rental_period_type:e.rental_period_type,monthly_amount:e.monthly_amount,status:e.status})}localStorage.removeItem("pendingPaymentDetails")}catch(e){console.error("Error fetching booking details:",e),g.oR.error("An error occurred. Please contact support.")}finally{k(!1)}})()},[N]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.A,{}),(0,a.jsx)("main",{className:"min-h-screen bg-gradient-to-b from-background to-muted flex items-center justify-center py-16",children:(0,a.jsx)("div",{className:"container mx-auto px-6 max-w-2xl",children:(0,a.jsx)("div",{className:"bg-card rounded-2xl shadow-metal border border-accent/20 p-8 md:p-12",children:b?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(o.A,{className:"w-12 h-12 text-accent mx-auto mb-4 animate-spin"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Loading booking details..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-amber-500/10 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,a.jsx)(m.A,{className:"w-12 h-12 text-amber-500"})}),(0,a.jsx)("h1",{className:"text-3xl md:text-4xl font-display font-bold text-gradient-metal mb-2 text-center",children:"Booking Submitted"}),(null==s?void 0:s.booking_ref)&&(0,a.jsxs)("p",{className:"text-lg text-center mb-6",children:["Reference: ",(0,a.jsx)("span",{className:"font-semibold text-accent",children:s.booking_ref})]}),(0,a.jsx)("p",{className:"text-lg text-muted-foreground mb-8 text-center",children:"Thank you for your booking request! We're reviewing your information and will confirm within 24 hours."}),(0,a.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-8",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(m.A,{className:"w-5 h-5 text-amber-600 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-amber-800",children:"Your card has been authorized"}),(0,a.jsxs)("p",{className:"text-sm text-amber-700 mt-1",children:["A temporary hold has been placed on your card. You will ",(0,a.jsx)("strong",{children:"only be charged"})," once your booking is approved. If your booking is not approved, the hold will be released automatically."]})]})]})}),s&&(0,a.jsxs)("div",{className:"bg-accent/5 border border-accent/20 rounded-lg p-6 mb-8 text-left space-y-4",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Booking Summary"}),(0,a.jsxs)("div",{className:"grid gap-3 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("span",{className:"text-muted-foreground flex items-center gap-2",children:[(0,a.jsx)(x.A,{className:"w-4 h-4"}),"Vehicle:"]}),(0,a.jsx)("span",{className:"font-medium",children:s.vehicle_name})]}),s.vehicle_reg&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Registration:"}),(0,a.jsx)("span",{className:"font-medium",children:s.vehicle_reg})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("span",{className:"text-muted-foreground flex items-center gap-2",children:[(0,a.jsx)(h.A,{className:"w-4 h-4"}),"Pickup Date:"]}),(0,a.jsx)("span",{className:"font-medium",children:s.pickup_date})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Return Date:"}),(0,a.jsx)("span",{className:"font-medium",children:s.return_date})]}),(0,a.jsxs)("div",{className:"border-t pt-3 mt-2 flex justify-between",children:[(0,a.jsx)("span",{className:"font-medium",children:"Total Amount (Held):"}),(0,a.jsxs)("span",{className:"font-bold text-accent",children:["$",(null==(e=s.monthly_amount)?void 0:e.toLocaleString())||"N/A"]})]})]})]}),(0,a.jsxs)("div",{className:"bg-muted/50 rounded-lg p-6 mb-8",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"What Happens Next?"}),(0,a.jsxs)("ol",{className:"space-y-3 text-sm text-muted-foreground",children:[(0,a.jsxs)("li",{className:"flex items-start gap-3",children:[(0,a.jsx)("span",{className:"bg-accent text-background w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold flex-shrink-0",children:"1"}),(0,a.jsx)("span",{children:"Our team will review your booking request within 24 hours"})]}),(0,a.jsxs)("li",{className:"flex items-start gap-3",children:[(0,a.jsx)("span",{className:"bg-accent text-background w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold flex-shrink-0",children:"2"}),(0,a.jsx)("span",{children:"You'll receive an email confirmation once approved"})]}),(0,a.jsxs)("li",{className:"flex items-start gap-3",children:[(0,a.jsx)("span",{className:"bg-accent text-background w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold flex-shrink-0",children:"3"}),(0,a.jsx)("span",{children:"Your rental agreement will be sent via DocuSign for signature"})]}),(0,a.jsxs)("li",{className:"flex items-start gap-3",children:[(0,a.jsx)("span",{className:"bg-accent text-background w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold flex-shrink-0",children:"4"}),(0,a.jsx)("span",{children:"Your card will be charged upon approval"})]})]})]}),(0,a.jsxs)("div",{className:"text-center text-muted-foreground mb-8",children:[(0,a.jsx)("p",{className:"mb-2",children:"Questions about your booking?"}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-6 text-sm",children:[(0,a.jsxs)("a",{href:"mailto:support@drive-247.com",className:"flex items-center gap-2 hover:text-accent transition-colors",children:[(0,a.jsx)(u.A,{className:"w-4 h-4"}),"support@drive-247.com"]}),(0,a.jsxs)("a",{href:"tel:+1234567890",className:"flex items-center gap-2 hover:text-accent transition-colors",children:[(0,a.jsx)(p.A,{className:"w-4 h-4"}),"(123) 456-7890"]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,a.jsx)(c(),{href:"/",children:(0,a.jsx)(f.$,{variant:"outline",className:"w-full sm:w-auto",children:"Return Home"})}),(0,a.jsx)(c(),{href:"/booking",children:(0,a.jsx)(f.$,{className:"w-full sm:w-auto gradient-accent",children:"Book Another Vehicle"})})]})]})})})}),(0,a.jsx)(d.A,{})]})},k=()=>(0,a.jsx)(r.Suspense,{fallback:(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Loading..."})]})}),children:(0,a.jsx)(b,{})})},6983:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},7494:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]])},8572:(e,t,s)=>{Promise.resolve().then(s.bind(s,6633))},9141:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},9427:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]])},9540:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])}},e=>{e.O(0,[7615,8864,8720,5282,8522,8441,1255,7358],()=>e(e.s=8572)),_N_E=e.O()}]);