(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2530],{1192:(e,t,l)=>{"use strict";l.d(t,{A:()=>s});var r=l(2115),a=l(6622);let s=e=>{let{title:t,description:l,keywords:s,schema:n,canonical:c}=e,{branding:o}=(0,a.o)(),i="https://drive917.com",d=o.app_name||"Drive917",m="".concat(d," | ").concat(t),u=o.og_image_url||"".concat(i,"/favicon.png"),h=l||o.meta_description||"Premium car rental services in Dallas, TX";return(0,r.useEffect)(()=>{document.title=m;let e=function(e,t){let l=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=l?"property":"name",a=document.querySelector("meta[".concat(r,'="').concat(e,'"]'));a||((a=document.createElement("meta")).setAttribute(r,e),document.head.appendChild(a)),a.setAttribute("content",t)};if(e("description",h),s&&e("keywords",s),e("og:title",m,!0),e("og:description",h,!0),e("og:type","website",!0),e("og:url",c||i,!0),e("og:image",u,!0),e("og:image:width","1200",!0),e("og:image:height","630",!0),e("og:site_name",d,!0),e("twitter:card","summary_large_image"),e("twitter:title",m),e("twitter:description",h),e("twitter:image",u),c){let e=document.querySelector('link[rel="canonical"]');e||((e=document.createElement("link")).setAttribute("rel","canonical"),document.head.appendChild(e)),e.setAttribute("href",c)}if(n){let e=document.querySelector('script[type="application/ld+json"]');e||((e=document.createElement("script")).setAttribute("type","application/ld+json"),document.head.appendChild(e)),e.textContent=JSON.stringify(n)}},[m,h,s,c,u,d,n,i]),null}},1401:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>f});var r=l(5155),a=l(2115),s=l(63),n=l(6948),c=l(3998),o=l(9156),i=l(8720),d=l(5917),m=l(5626),u=l(4947),h=l(3947),x=l(8455),g=l(1192);let p=()=>{let e=(0,s.useRouter)(),t=(0,s.useSearchParams)(),[l,p]=(0,a.useState)([]),[f,y]=(0,a.useState)(!0),[v,_]=(0,a.useState)(null),j=(null==t?void 0:t.get("pickup"))||"",b=(null==t?void 0:t.get("return"))||"",N=(null==t?void 0:t.get("pl"))||"",k=(null==t?void 0:t.get("rl"))||"",w=(null==t?void 0:t.get("age"))||"",A=(null==t?void 0:t.get("promo"))||"";(0,a.useEffect)(()=>{if(!j||!b){i.oR.error("Missing rental details. Redirecting..."),e.push("/booking");return}S()},[]);let S=async()=>{y(!0);try{var e;let{data:t,error:l}=await o.N.from("vehicles").select("\n          *,\n          vehicle_photos (\n            photo_url\n          )\n        ").eq("status","Available").order("monthly_rate",{ascending:!0});if(l)throw l;console.log("Loaded ".concat((null==t?void 0:t.length)||0," available (non-rented) vehicles")),console.log("First vehicle data:",null==t?void 0:t[0]),console.log("Vehicle photos:",null==t||null==(e=t[0])?void 0:e.vehicle_photos),t&&0!==t.length||i.oR.info("No vehicles available at the moment"),p(t||[])}catch(e){i.oR.error("Failed to load vehicles"),console.error("Error loading vehicles:",e)}finally{y(!1)}},C=()=>{let e=new Date(j);return Math.ceil(Math.abs(new Date(b).getTime()-e.getTime())/864e5)};return(0,r.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,r.jsx)(g.A,{title:"Select Your Vehicle | Drive 917",description:"Choose from our premium fleet of luxury vehicles in Los Angeles"}),(0,r.jsx)(h.A,{}),(0,r.jsx)("div",{className:"pt-24 pb-16 px-4",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,r.jsx)("div",{className:"mb-12",children:(0,r.jsxs)("div",{className:"flex items-center justify-between max-w-2xl mx-auto mb-8",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-full bg-accent/20 border-2 border-accent flex items-center justify-center",children:(0,r.jsx)(d.A,{className:"w-4 h-4 text-accent"})}),(0,r.jsx)("span",{className:"text-sm font-medium text-muted-foreground",children:"Rental Details"})]}),(0,r.jsx)("div",{className:"flex-1 h-0.5 bg-accent/30 mx-4"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-full bg-accent border-2 border-accent flex items-center justify-center text-background font-semibold text-sm",children:"2"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:"Select Vehicle"})]}),(0,r.jsx)("div",{className:"flex-1 h-0.5 bg-border mx-4"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-full bg-muted border-2 border-border flex items-center justify-center text-muted-foreground text-sm",children:"3"}),(0,r.jsx)("span",{className:"text-sm font-medium text-muted-foreground",children:"Extras & Payment"})]})]})}),(0,r.jsxs)("div",{className:"text-center mb-12",children:[(0,r.jsxs)(c.$,{variant:"ghost",onClick:()=>e.push("/booking"),className:"mb-6",children:[(0,r.jsx)(m.A,{className:"w-4 h-4 mr-2"}),"Back to Rental Details"]}),(0,r.jsx)("h1",{className:"text-4xl md:text-5xl font-display font-bold text-gradient-metal mb-4",children:"Select Your Vehicle"}),(0,r.jsxs)("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:[N&&"".concat(N," â€¢ "),j&&b&&"".concat(C()," days")]})]}),f?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"animate-spin w-8 h-8 border-2 border-accent border-t-transparent rounded-full mx-auto"}),(0,r.jsx)("p",{className:"mt-4 text-muted-foreground",children:"Loading vehicles..."})]}):0===l.length?(0,r.jsxs)(n.Zp,{className:"p-12 text-center",children:[(0,r.jsx)(u.A,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),(0,r.jsx)("p",{className:"text-lg text-muted-foreground",children:"No vehicles available for selected dates"})]}):(0,r.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(l=>{var a,s;return(0,r.jsxs)(n.Zp,{className:"overflow-hidden hover:shadow-glow transition-all",children:[(0,r.jsx)("div",{className:"aspect-[4/3] overflow-hidden bg-muted",children:(null==(s=l.vehicle_photos)||null==(a=s[0])?void 0:a.photo_url)?(0,r.jsx)("img",{src:l.vehicle_photos[0].photo_url,alt:"".concat(l.make," ").concat(l.model),className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"}):(0,r.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,r.jsx)(u.A,{className:"w-24 h-24 text-muted-foreground/30"})})}),(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("div",{className:"flex items-start justify-between mb-3",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-accent uppercase tracking-wider font-medium mb-1",children:l.reg}),(0,r.jsx)("h3",{className:"text-xl font-semibold",children:l.make&&l.model?"".concat(l.make," ").concat(l.model):l.make||l.model||"Vehicle"})]})}),(0,r.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-4",children:[l.colour&&(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("span",{className:"font-medium",children:"Colour:"}),(0,r.jsx)("span",{children:l.colour})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("span",{className:"font-medium",children:"Status:"}),(0,r.jsx)("span",{className:"text-green-600",children:l.status})]})]}),(0,r.jsxs)("div",{className:"pt-4 border-t border-border",children:[(0,r.jsxs)("div",{className:"flex items-baseline justify-between mb-4",children:[(0,r.jsxs)("span",{className:"text-2xl font-bold text-accent",children:["$",(e=>{let t=C();return e.monthly_rate?e.monthly_rate:50*t})(l).toLocaleString()]}),(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"monthly"})]}),(0,r.jsx)(c.$,{className:"w-full",onClick:()=>(l=>{_(l),localStorage.setItem("booking_context",JSON.stringify({pickupDate:j,returnDate:b,pickupLocation:N,returnLocation:k,driverAge:w,promoCode:A,vehicleId:l}));let r=new URLSearchParams((null==t?void 0:t.toString())||"");r.set("vehicle",l),e.push("/booking/checkout?".concat(r.toString()))})(l.id),children:"Select Vehicle"})]})]})]},l.id)})})]})}),(0,r.jsx)(x.A,{})]})},f=()=>(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Loading..."})]})}),children:(0,r.jsx)(p,{})})},1873:(e,t,l)=>{"use strict";l.d(t,{A:()=>r});let r=(0,l(1847).A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},3664:(e,t,l)=>{"use strict";l.d(t,{A:()=>r});let r=(0,l(1847).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},4947:(e,t,l)=>{"use strict";l.d(t,{A:()=>r});let r=(0,l(1847).A)("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]])},5626:(e,t,l)=>{"use strict";l.d(t,{A:()=>r});let r=(0,l(1847).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},5653:(e,t,l)=>{Promise.resolve().then(l.bind(l,1401))},5917:(e,t,l)=>{"use strict";l.d(t,{A:()=>r});let r=(0,l(1847).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},6622:(e,t,l)=>{"use strict";l.d(t,{o:()=>n});var r=l(2454),a=l(9156);let s={primary_color:"#223331",secondary_color:"#223331",accent_color:"#E9B63E",light_primary_color:null,light_secondary_color:null,light_accent_color:null,light_background_color:null,dark_primary_color:null,dark_secondary_color:null,dark_accent_color:null,dark_background_color:null,light_header_footer_color:null,dark_header_footer_color:null,logo_url:null,favicon_url:null,app_name:"Drive 917",meta_title:null,meta_description:null,og_image_url:null},n=()=>{let{data:e,isLoading:t,error:l}=(0,r.I)({queryKey:["org-branding-settings"],queryFn:async()=>{let{data:e,error:t}=await a.N.from("org_settings").select("\n          primary_color,\n          secondary_color,\n          accent_color,\n          light_primary_color,\n          light_secondary_color,\n          light_accent_color,\n          light_background_color,\n          dark_primary_color,\n          dark_secondary_color,\n          dark_accent_color,\n          dark_background_color,\n          light_header_footer_color,\n          dark_header_footer_color,\n          logo_url,\n          favicon_url,\n          app_name,\n          meta_title,\n          meta_description,\n          og_image_url\n        ").limit(1).single();if(t){if("PGRST116"===t.code)return console.log("No org_settings found, using defaults"),s;throw t}return{...s,...e}},staleTime:12e4,retry:1});return{branding:e||s,isLoading:t,error:l}}},6948:(e,t,l)=>{"use strict";l.d(t,{Wu:()=>i,ZB:()=>o,Zp:()=>n,aR:()=>c});var r=l(5155),a=l(2115),s=l(4269);let n=a.forwardRef((e,t)=>{let{className:l,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",l),...a})});n.displayName="Card";let c=a.forwardRef((e,t)=>{let{className:l,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",l),...a})});c.displayName="CardHeader";let o=a.forwardRef((e,t)=>{let{className:l,...a}=e;return(0,r.jsx)("h3",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",l),...a})});o.displayName="CardTitle",a.forwardRef((e,t)=>{let{className:l,...a}=e;return(0,r.jsx)("p",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",l),...a})}).displayName="CardDescription";let i=a.forwardRef((e,t)=>{let{className:l,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",l),...a})});i.displayName="CardContent",a.forwardRef((e,t)=>{let{className:l,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",l),...a})}).displayName="CardFooter"},7494:(e,t,l)=>{"use strict";l.d(t,{A:()=>r});let r=(0,l(1847).A)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]])},9141:(e,t,l)=>{"use strict";l.d(t,{A:()=>r});let r=(0,l(1847).A)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},9427:(e,t,l)=>{"use strict";l.d(t,{A:()=>r});let r=(0,l(1847).A)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]])},9540:(e,t,l)=>{"use strict";l.d(t,{A:()=>r});let r=(0,l(1847).A)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])}},e=>{e.O(0,[7615,8864,8720,8522,8441,1255,7358],()=>e(e.s=5653)),_N_E=e.O()}]);