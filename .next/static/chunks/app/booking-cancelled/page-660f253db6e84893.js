(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9596],{1873:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},3372:(e,t,a)=>{Promise.resolve().then(a.bind(a,4991))},3664:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},4991:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>f});var s=a(5155),r=a(2115),l=a(63),c=a(2619),d=a.n(c),n=a(3947),i=a(8455),o=a(5299);let m=(0,a(1847).A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var h=a(5626),u=a(5937),x=a(3998),p=a(9156);let y=()=>{let e=(0,l.useSearchParams)(),[t,a]=(0,r.useState)(!0),c=null==e?void 0:e.get("rental_id");return(0,r.useEffect)(()=>{(async()=>{if(c)try{let{data:e,error:t}=await p.N.from("rentals").select("vehicle_id").eq("id",c).single();if(e&&!t){console.log("\uD83E\uDDF9 Cleaning up cancelled booking...");let{error:t}=await p.N.from("rentals").delete().eq("id",c);t?console.error("Failed to delete rental:",t):console.log("✅ Rental deleted");let{error:a}=await p.N.from("vehicles").update({status:"Available"}).eq("id",e.vehicle_id);a?console.error("Failed to update vehicle status:",a):console.log("✅ Vehicle status reset to Available")}}catch(e){console.error("Error cleaning up failed rental:",e)}localStorage.removeItem("pendingPaymentDetails"),console.log("✅ LocalStorage cleared"),a(!1)})()},[c]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.A,{}),(0,s.jsx)("main",{className:"min-h-screen bg-gradient-to-b from-background to-muted pt-24 pb-16",children:(0,s.jsx)("div",{className:"container mx-auto px-6 max-w-2xl",children:(0,s.jsx)("div",{className:"bg-card rounded-2xl shadow-metal border border-destructive/20 p-8 md:p-12 text-center",children:t?(0,s.jsxs)("div",{className:"py-12",children:[(0,s.jsx)(o.A,{className:"w-12 h-12 text-accent mx-auto mb-4 animate-spin"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Processing cancellation..."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-20 h-20 bg-destructive/10 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,s.jsx)(m,{className:"w-12 h-12 text-destructive"})}),(0,s.jsx)("h1",{className:"text-3xl md:text-4xl font-display font-bold text-foreground mb-4",children:"Payment Cancelled"}),(0,s.jsx)("p",{className:"text-lg text-muted-foreground mb-8",children:"Your payment was cancelled. No charges have been made to your account."}),(0,s.jsxs)("div",{className:"bg-muted/50 border border-border rounded-lg p-6 mb-8 text-left",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"What Happened?"}),(0,s.jsx)("p",{className:"text-muted-foreground mb-4",children:"You've cancelled the payment process. Your rental has not been confirmed and no payment has been processed."}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"If you experienced any issues or have questions, please don't hesitate to contact our support team."})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,s.jsx)(d(),{href:"/",children:(0,s.jsxs)(x.$,{className:"gradient-accent hover-lift w-full sm:w-auto",children:[(0,s.jsx)(h.A,{className:"w-4 h-4 mr-2"}),"Try Again"]})}),(0,s.jsx)(d(),{href:"/contact",children:(0,s.jsxs)(x.$,{variant:"outline",className:"w-full sm:w-auto",children:[(0,s.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"Contact Support"]})})]})]})})})}),(0,s.jsx)(i.A,{})]})},f=()=>(0,s.jsx)(r.Suspense,{fallback:(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Loading..."})]})}),children:(0,s.jsx)(y,{})})},5299:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},5626:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},5937:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]])},7494:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]])},9141:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},9427:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]])},9540:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])}},e=>{e.O(0,[7615,8864,8522,8441,1255,7358],()=>e(e.s=3372)),_N_E=e.O()}]);